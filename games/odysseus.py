import random
import pickle
import os
from pathlib import Path
from games.base_game import BaseGame
from config.settings import settings

class OdysseusGame(BaseGame):
    """–ò–≥—Ä–∞ '–û–¥–∏—Å—Å–µ–π –¢–µ–ª–µ–º–∞–∫—É' –ø–æ –º–æ—Ç–∏–≤–∞–º —Å—Ç–∏—Ö–æ—Ç–≤–æ—Ä–µ–Ω–∏—è –ë—Ä–æ–¥—Å–∫–æ–≥–æ"""
    
    name = "–û–¥–∏—Å—Å–µ–π –¢–µ–ª–µ–º–∞–∫—É"
    poem = "–û–¥–∏—Å—Å–µ–π –¢–µ–ª–µ–º–∞–∫—É"
    description = "–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –¥–≤—É–º—è —Å—É–¥—å–±–∞–º–∏: –æ—Ç—Ü–∞ –≤ –º–æ—Ä–µ –∏ —Å—ã–Ω–∞ –Ω–∞ –ò—Ç–∞–∫–µ"
    
    def __init__(self, user_id: int):
        super().__init__(user_id)
        
        # –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–≥—Ä—ã
        self.character = "telemachos"  # 'odysseus' –∏–ª–∏ 'telemachos'
        self.narrative_stage = 0       # –¢–µ–∫—É—â–∏–π —ç—Ç–∞–ø –ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è
        self.decisions = []            # –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∏–Ω—è—Ç—ã—Ö —Ä–µ—à–µ–Ω–∏–π
        self.wisdom_learned = 0        # –ù–∞–∫–æ–ø–ª–µ–Ω–Ω–∞—è –º—É–¥—Ä–æ—Å—Ç—å
        self.longing = 0               # –¢–æ—Å–∫–∞ –ø–æ –±–ª–∏–∑–∫–æ–º—É
        self.odysseus_progress = 0     # –ü—Ä–æ–≥—Ä–µ—Å—Å –û–¥–∏—Å—Å–µ—è –≤ –ø—É—Ç–∏ –¥–æ–º–æ–π (0-100)
        self.telemachos_growth = 0     # –í–∑—Ä–æ—Å–ª–µ–Ω–∏–µ –¢–µ–ª–µ–º–∞–∫–∞ (0-100)
        self.messages = []             # –°–æ–æ–±—â–µ–Ω–∏—è, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –¥—Ä—É–≥–æ–º—É –ø–µ—Ä—Å–æ–Ω–∞–∂—É
        self.state = "normal"          # –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
        
        # –õ–æ–∫–∞—Ü–∏–∏ –¥–ª—è –û–¥–∏—Å—Å–µ—è
        self.odysseus_locations = {
            "–º–æ—Ä–µ": "–ë–µ—Å–∫—Ä–∞–π–Ω–µ–µ –º–æ—Ä–µ, –≥–¥–µ –≤–æ–ª–Ω—ã –≥–æ–≤–æ—Ä—è—Ç –Ω–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–º —è–∑—ã–∫–µ",
            "–æ—Å—Ç—Ä–æ–≤_–∫–∏—Ä–∫–∏": "–û—Å—Ç—Ä–æ–≤ –ö–∏—Ä–∫–∏, –≥–¥–µ –≤—Ä–µ–º—è –∑–∞–º–µ–¥–ª—è–µ—Ç—Å—è",
            "—Ü–∞—Ä—Å—Ç–≤–æ_–∞–∏–¥–∞": "–í—Ö–æ–¥ –≤ —Ü–∞—Ä—Å—Ç–≤–æ –º–µ—Ä—Ç–≤—ã—Ö, –º–∏—Ä —Ç–µ–Ω–µ–π –∏ –ø—Ä–æ—à–ª–æ–≥–æ",
            "–æ—Å—Ç—Ä–æ–≤_—Å–∏—Ä–µ–Ω": "–û—Å—Ç—Ä–æ–≤ —Å–∏—Ä–µ–Ω, —á—å–∏ –ø–µ—Å–Ω–∏ –æ–±–µ—â–∞—é—Ç –∑–Ω–∞–Ω–∏–µ",
            "–º–µ–∂–¥—É_—Å—Ü–∏–ª–ª–æ–π_–∏_—Ö–∞—Ä–∏–±–¥–æ–π": "–ü—Ä–æ–ª–∏–≤ –º–µ–∂–¥—É –°—Ü–∏–ª–ª–æ–π –∏ –•–∞—Ä–∏–±–¥–æ–π, –≥–¥–µ –Ω—É–∂–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å –º–µ–Ω—å—à–µ–µ –∏–∑ –∑–æ–ª",
            "–æ—Å—Ç—Ä–æ–≤_–∫–∞–ª–∏–ø—Å–æ": "–û—Å—Ç—Ä–æ–≤ –Ω–∏–º—Ñ—ã –ö–∞–ª–∏–ø—Å–æ, –≥–¥–µ –æ–±–µ—â–∞–Ω–æ –±–µ—Å—Å–º–µ—Ä—Ç–∏–µ"
        }
        
        # –õ–æ–∫–∞—Ü–∏–∏ –¥–ª—è –¢–µ–ª–µ–º–∞–∫–∞
        self.telemachos_locations = {
            "–¥–≤–æ—Ä–µ—Ü": "–î–≤–æ—Ä–µ—Ü –≤ –ò—Ç–∞–∫–µ, –Ω–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –∂–µ–Ω–∏—Ö–∞–º–∏ –ü–µ–Ω–µ–ª–æ–ø—ã",
            "–±–µ—Ä–µ–≥": "–ë–µ—Ä–µ–≥ –º–æ—Ä—è, –æ—Ç–∫—É–¥–∞ –æ—Ç–µ—Ü —É–ø–ª—ã–ª –º–Ω–æ–≥–æ –ª–µ—Ç –Ω–∞–∑–∞–¥",
            "–æ–ª–∏–≤–∫–æ–≤–∞—è_—Ä–æ—â–∞": "–û–ª–∏–≤–∫–æ–≤–∞—è —Ä–æ—â–∞, –≥–¥–µ –æ—Ç–µ—Ü —É—á–∏–ª —Ç–µ–±—è –≤ –¥–µ—Ç—Å—Ç–≤–µ",
            "–ø–æ–∫–æ–∏_–º–∞—Ç–µ—Ä–∏": "–ü–æ–∫–æ–∏ –º–∞—Ç–µ—Ä–∏, –≥–¥–µ –æ–Ω–∞ —Ç–∫–µ—Ç –∏ —Ä–∞—Å–ø—É—Å–∫–∞–µ—Ç –ø–æ–∫—Ä—ã–≤–∞–ª–æ",
            "–∞–≥–æ—Ä–∞": "–ü–ª–æ—â–∞–¥—å, –≥–¥–µ —Å—Ç–∞—Ä–µ–π—à–∏–Ω—ã –æ–±—Å—É–∂–¥–∞—é—Ç —Å—É–¥—å–±—É –ò—Ç–∞–∫–∏"
        }
        
        # –¢–µ–∫—É—â–∏–µ –ª–æ–∫–∞—Ü–∏–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
        self.odysseus_current_location = "–º–æ—Ä–µ"
        self.telemachos_current_location = "–¥–≤–æ—Ä–µ—Ü"
        
        # –ü–µ—Ä—Å–æ–Ω–∞–∂–∏, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –º–æ–∂–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å
        self.odysseus_npcs = {
            "–º–æ—Ä–µ": ["–ø–æ—Å–µ–π–¥–æ–Ω", "—Å—Ç–∞—Ä—ã–π_–º–æ—Ä—è–∫"],
            "–æ—Å—Ç—Ä–æ–≤_–∫–∏—Ä–∫–∏": ["–∫–∏—Ä–∫–∞", "–ø—Ä–µ–≤—Ä–∞—â–µ–Ω–Ω—ã–µ_–≤_—Å–≤–∏–Ω–µ–π"],
            "—Ü–∞—Ä—Å—Ç–≤–æ_–∞–∏–¥–∞": ["—Ç–∏—Ä–µ—Å–∏–π", "–∞–Ω—Ç–∏–∫–ª–µ—è"],
            "–æ—Å—Ç—Ä–æ–≤_—Å–∏—Ä–µ–Ω": ["—Å–∏—Ä–µ–Ω—ã"],
            "–º–µ–∂–¥—É_—Å—Ü–∏–ª–ª–æ–π_–∏_—Ö–∞—Ä–∏–±–¥–æ–π": ["—Å—Ü–∏–ª–ª–∞", "—Ö–∞—Ä–∏–±–¥–∞"],
            "–æ—Å—Ç—Ä–æ–≤_–∫–∞–ª–∏–ø—Å–æ": ["–∫–∞–ª–∏–ø—Å–æ", "–≥–µ—Ä–º–µ—Å"]
        }
        
        self.telemachos_npcs = {
            "–¥–≤–æ—Ä–µ—Ü": ["–ø–µ–Ω–µ–ª–æ–ø–∞", "–µ–≤–º–µ–π", "–∂–µ–Ω–∏—Ö–∏"],
            "–±–µ—Ä–µ–≥": ["—Ä—ã–±–∞–∫–∏", "–º–æ—Ä—è–∫–∏"],
            "–æ–ª–∏–≤–∫–æ–≤–∞—è_—Ä–æ—â–∞": ["–º–µ–Ω—Ç–æ—Ä", "—Å—Ç–∞—Ä–∏–∫–∏"],
            "–ø–æ–∫–æ–∏_–º–∞—Ç–µ—Ä–∏": ["–ø–µ–Ω–µ–ª–æ–ø–∞", "—Å–ª—É–∂–∞–Ω–∫–∏"],
            "–∞–≥–æ—Ä–∞": ["–∂–∏—Ç–µ–ª–∏_–∏—Ç–∞–∫–∏", "—Å—Ç–∞—Ä–µ–π—à–∏–Ω—ã"]
        }
        
        # –ü—Ä–µ–¥–º–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏
        self.odysseus_items = []
        self.telemachos_items = []
        
        # –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–µ–ø–æ—á–∫–∏ –¥–∏–∞–ª–æ–≥–æ–≤
        self.dialog_stages = {
            "odysseus": [
                "–ö–æ—Ä–∞–±–ª–µ–∫—Ä—É—à–µ–Ω–∏–µ –∏ –Ω–∞—á–∞–ª–æ –ø—É—Ç–∏",
                "–ò—Å–ø—ã—Ç–∞–Ω–∏—è –∏ –ø—Ä–µ–æ–¥–æ–ª–µ–Ω–∏–µ",
                "–í—Å—Ç—Ä–µ—á–∞ —Å –ø—Ä–æ—à–ª—ã–º –≤ —Ü–∞—Ä—Å—Ç–≤–µ —Ç–µ–Ω–µ–π",
                "–ò—Å–∫—É—à–µ–Ω–∏–µ –∑–Ω–∞–Ω–∏–µ–º –∏ –±–µ—Å—Å–º–µ—Ä—Ç–∏–µ–º",
                "–í—ã–±–æ—Ä –ø—É—Ç–∏ –¥–æ–º–æ–π, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ü–µ–Ω—É",
                "–í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –∏ –Ω–µ—É–∑–Ω–∞–≤–∞–Ω–∏–µ"
            ],
            "telemachos": [
                "–û–∂–∏–¥–∞–Ω–∏–µ –∏ —Ç–æ—Å–∫–∞ –ø–æ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–º—É –æ—Ç—Ü—É",
                "–ü–µ—Ä–≤—ã–µ —à–∞–≥–∏ –∫ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏",
                "–ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ—Ç—Ü–µ",
                "–ó–∞—â–∏—Ç–∞ –¥–æ–º–∞ –∏ –º–∞—Ç–µ—Ä–∏",
                "–í–∑—Ä–æ—Å–ª–µ–Ω–∏–µ –∏ –ø—Ä–∏–Ω—è—Ç–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏",
                "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –≤—Å—Ç—Ä–µ—á–µ –∏ —É–∑–Ω–∞–≤–∞–Ω–∏—é"
            ]
        }
        
    def get_help(self) -> str:
        """–ü–æ–ª—É—á–∏—Ç—å —Å–ø—Ä–∞–≤–∫—É –ø–æ –∏–≥—Ä–µ"""
        help_text = """
üìú –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

–ù–∞–≤–∏–≥–∞—Ü–∏—è:
- –æ—Å–º–æ—Ç—Ä–µ—Ç—å—Å—è - –æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–µ–∫—É—â—É—é –ª–æ–∫–∞—Ü–∏—é
- –ª–æ–∫–∞—Ü–∏–∏ - —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–µ—Å—Ç –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è
- –∏–¥—Ç–∏ [–ª–æ–∫–∞—Ü–∏—è] - –ø–µ—Ä–µ–π—Ç–∏ –≤ —É–∫–∞–∑–∞–Ω–Ω—É—é –ª–æ–∫–∞—Ü–∏—é
- –∫—Ç–æ –∑–¥–µ—Å—å - –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –∫—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ä—è–¥–æ–º

–î–µ–π—Å—Ç–≤–∏—è:
- –≥–æ–≤–æ—Ä–∏—Ç—å [–∏–º—è] - –Ω–∞—á–∞—Ç—å —Ä–∞–∑–≥–æ–≤–æ—Ä —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–º
- –≤–∑—è—Ç—å [–ø—Ä–µ–¥–º–µ—Ç] - –ø–æ–¥–æ–±—Ä–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [–ø—Ä–µ–¥–º–µ—Ç] - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç –∏–∑ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
- –¥—É–º–∞—Ç—å - —Ä–∞–∑–º—ã—à–ª—è—Ç—å –æ —Ç–µ–∫—É—â–µ–π —Å–∏—Ç—É–∞—Ü–∏–∏
- –ø—Ä–µ–¥–º–µ—Ç—ã - –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å

–ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è:
- –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ—Å–ª–∞–Ω–∏–µ [—Ç–µ–∫—Å—Ç] - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –¥—Ä—É–≥–æ–º—É –ø–µ—Ä—Å–æ–Ω–∞–∂—É
- –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –ø–æ—Å–ª–∞–Ω–∏—è - –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

–ü–µ—Ä—Å–æ–Ω–∞–∂–∏:
- —Å—Ç–∞—Ç—å –æ–¥–∏—Å—Å–µ–µ–º - –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –û–¥–∏—Å—Å–µ—è
- —Å—Ç–∞—Ç—å —Ç–µ–ª–µ–º–∞–∫–æ–º - –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –¢–µ–ª–µ–º–∞–∫–∞
- —Å—Ç–∞—Ç—É—Å - –ø–æ–∫–∞–∑–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ–∫—É—â–µ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞

üéÆ –¶–µ–ª—å –∏–≥—Ä—ã: –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –ø—É—Ç—å –û–¥–∏—Å—Å–µ—è –∏ –≤–∑—Ä–æ—Å–ª–µ–Ω–∏–µ –¢–µ–ª–µ–º–∞–∫–∞, —á—Ç–æ–±—ã –ø—Ä–∏–≤–µ—Å—Ç–∏ –æ–±–æ–∏—Ö –∫ –≤–æ—Å—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—é.
"""
        return help_text

    def get_intro(self) -> str:
        """–ü–æ–ª—É—á–∏—Ç—å –≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ –∫ –∏–≥—Ä–µ"""
        intro = """
‚ïî=================‚ïó
‚ïë::::::::::–û–î–ò–°–°–ï–ô::::::::::‚ïë
‚ïë:::::::::–¢–ï–õ–ï–ú–ê–ö–£::::::::::‚ïë
‚ïë‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚ïë
‚ïë.....–∏–≥—Ä–∞ –ø–æ –º–æ—Ç–∏–≤–∞–º....‚ïë
‚ïë::::::—Å—Ç–∏—Ö–æ—Ç–≤–æ—Ä–µ–Ω–∏—è::::::‚ïë
‚ïë::::::::::–ë—Ä–æ–¥—Å–∫–æ–≥–æ:::::::::‚ïë
‚ïë‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚ïë
‚ïë:::–∞–≤—Ç–æ—Ä @pudan416::::‚ïë
‚ïö=================‚ïù

"–ú–æ–π –¢–µ–ª–µ–º–∞–∫,
–¢—Ä–æ—è–Ω—Å–∫–∞—è –≤–æ–π–Ω–∞
–æ–∫–æ–Ω—á–µ–Ω–∞. –ö—Ç–æ –ø–æ–±–µ–¥–∏–ª ‚Äì –Ω–µ –ø–æ–º–Ω—é.
–î–æ–ª–∂–Ω–æ –±—ã—Ç—å, –≥—Ä–µ–∫–∏: —Å—Ç–æ–ª—å–∫–æ –º–µ—Ä—Ç–≤–µ—Ü–æ–≤
–≤–Ω–µ –¥–æ–º–∞ –±—Ä–æ—Å–∏—Ç—å –º–æ–≥—É—Ç —Ç–æ–ª—å–∫–æ –≥—Ä–µ–∫–∏..."

–û–¥–∏—Å—Å–µ–π –∑–∞—Ç–µ—Ä—è–Ω –≤ –º–æ—Ä–µ, –ø—ã—Ç–∞—è—Å—å –≤–µ—Ä–Ω—É—Ç—å—Å—è –¥–æ–º–æ–π –ø–æ—Å–ª–µ –¥–æ–ª–≥–∏—Ö –ª–µ—Ç –≤–æ–π–Ω—ã.
–¢–µ–ª–µ–º–∞–∫ –∂–¥–µ—Ç –Ω–∞ –ò—Ç–∞–∫–µ, –ø–æ–≤–∑—Ä–æ—Å–ª–µ–≤ –±–µ–∑ –æ—Ç—Ü–∞, –æ—Ö—Ä–∞–Ω—è—è –¥–æ–º –æ—Ç –∂–µ–Ω–∏—Ö–æ–≤.

–í —ç—Ç–æ–π –∏–≥—Ä–µ —Ç—ã –º–æ–∂–µ—à—å —Å—Ç–∞—Ç—å –∫–∞–∫ –û–¥–∏—Å—Å–µ–µ–º, —Ç–∞–∫ –∏ –¢–µ–ª–µ–º–∞–∫–æ–º, –∏—Å—Å–ª–µ–¥—É—è –∏—Ö –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∏—Å—Ç–æ—Ä–∏–∏ –∏ –¥–≤–∏–≥–∞—è—Å—å –∫ –≤–æ—Å—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—é.

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç—ã –Ω–∞—á–∏–Ω–∞–µ—à—å –∏–≥—Ä—É –∑–∞ –¢–µ–ª–µ–º–∞–∫–∞.
–í–≤–µ–¥–∏ '–æ—Å–º–æ—Ç—Ä–µ—Ç—å—Å—è', —á—Ç–æ–±—ã –∏–∑—É—á–∏—Ç—å —Å–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ, –∏–ª–∏ '–ø–æ–º–æ—â—å' –¥–ª—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥.
"""
        return intro
    
    def save_game_state(self) -> str:
        """Create a compact string representation of game state"""
        # Basic game state
        state_string = f"odysseus:{self.character}:{self.narrative_stage}:{self.wisdom_learned}:{self.longing}:{self.odysseus_progress}:{self.telemachos_growth}:{self.state}"
        
        # Locations
        state_string += f":{self.odysseus_current_location}:{self.telemachos_current_location}"
        
        # Items (just count them to save space)
        state_string += f":{len(self.odysseus_items)}:{len(self.telemachos_items)}"
        
        return state_string
    
    @classmethod
    def load_from_state_string(cls, user_id: int, state_string: str) -> 'OdysseusGame':
        """Recreate game state from compact string"""
        game = cls(user_id)
        
        if not state_string or not state_string.startswith("odysseus:"):
            return game
            
        parts = state_string.split(':')
        if len(parts) >= 8:
            game.character = parts[1]
            game.narrative_stage = int(parts[2])
            game.wisdom_learned = int(parts[3])
            game.longing = int(parts[4])
            game.odysseus_progress = int(parts[5])
            game.telemachos_growth = int(parts[6])
            game.state = parts[7]
            
            if len(parts) >= 10:
                game.odysseus_current_location = parts[8]
                game.telemachos_current_location = parts[9]
                
        return game
    
    

    def process_command(self, command: str) -> str:
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã –∏–≥—Ä–æ–∫–∞"""
        command = command.lower().strip()
        
        # –ï—Å–ª–∏ –∏–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
        if self.state == "game_over":
            return "–ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –í–≤–µ–¥–∏ /start –¥–ª—è –Ω–∞—á–∞–ª–∞ –Ω–æ–≤–æ–π –∏–≥—Ä—ã."
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –∫–æ–º–∞–Ω–¥–∞ —Å–º–µ–Ω–æ–π –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
        if command == "—Å—Ç–∞—Ç—å –æ–¥–∏—Å—Å–µ–µ–º" and self.character == "telemachos":
            self.character = "odysseus"
            return self.change_character_to_odysseus()
        elif command == "—Å—Ç–∞—Ç—å —Ç–µ–ª–µ–º–∞–∫–æ–º" and self.character == "odysseus":
            self.character = "telemachos"
            return self.change_character_to_telemachos()
        
        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
        if command == "–æ—Å–º–æ—Ç—Ä–µ—Ç—å—Å—è":
            return self.look_around()
        elif command.startswith("–∏–¥—Ç–∏"):
            parts = command.split(" ", 1)
            location = parts[1] if len(parts) > 1 else ""
            return self.go_to(location)
        elif command == "–ª–æ–∫–∞—Ü–∏–∏":
            return self.list_locations()
        elif command == "–∫—Ç–æ –∑–¥–µ—Å—å":
            return self.list_people_around()
        elif command == "–ø—Ä–µ–¥–º–µ—Ç—ã":
            return self.list_items()
        
        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –¥–µ–π—Å—Ç–≤–∏–π
        elif command.startswith("–≥–æ–≤–æ—Ä–∏—Ç—å"):
            parts = command.split(" ", 1)
            person = parts[1] if len(parts) > 1 else ""
            return self.talk_to(person)
        elif command.startswith("–≤–∑—è—Ç—å"):
            parts = command.split(" ", 1)
            item = parts[1] if len(parts) > 1 else ""
            return self.take_item(item)
        elif command.startswith("–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å"):
            parts = command.split(" ", 1)
            item = parts[1] if len(parts) > 1 else ""
            return self.use_item(item)
        elif command == "–¥—É–º–∞—Ç—å":
            return self.think()
        elif command.startswith("–æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ—Å–ª–∞–Ω–∏–µ"):
            parts = command.split(" ", 2)
            message = parts[2] if len(parts) > 2 else ""
            return self.send_message(message)
        elif command == "–ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –ø–æ—Å–ª–∞–Ω–∏—è":
            return self.view_messages()
        
        # –°–ø—Ä–∞–≤–∫–∞
        elif command == "–ø–æ–º–æ—â—å":
            return self.get_help()
        elif command == "—Å—Ç–∞—Ç—É—Å":
            return self.show_status()
        else:
            return "–Ø –Ω–µ –ø–æ–Ω–∏–º–∞—é —ç—Ç—É –∫–æ–º–∞–Ω–¥—É. –í–≤–µ–¥–∏ '–ø–æ–º–æ—â—å' –¥–ª—è —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥."
    
    def look_around(self) -> str:
        """–û—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–µ–∫—É—â—É—é –ª–æ–∫–∞—Ü–∏—é"""
        if self.character == "odysseus":
            location_name = self.odysseus_current_location
            location_desc = self.odysseus_locations[location_name]
            
            description = f"\n–¢—ã ‚Äî –û–¥–∏—Å—Å–µ–π, —Ü–∞—Ä—å –ò—Ç–∞–∫–∏, –Ω–∞—Ö–æ–¥–∏—à—å—Å—è –≤ –ª–æ–∫–∞—Ü–∏–∏: {location_name}.\n"
            description += f"{location_desc}\n\n"
            
            # –õ—é–¥–∏ –≤ –ª–æ–∫–∞—Ü–∏–∏
            npcs = self.odysseus_npcs.get(location_name, [])
            if npcs:
                description += "–†—è–¥–æ–º —Å —Ç–æ–±–æ–π:\n"
                for npc in npcs:
                    description += f"- {npc.replace('_', ' ').capitalize()}\n"
            else:
                description += "–ó–¥–µ—Å—å –Ω–∏–∫–æ–≥–æ –Ω–µ—Ç.\n"
            
            # –ü—Ä–µ–¥–º–µ—Ç—ã, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤ –ª–æ–∫–∞—Ü–∏–∏
            description += "\n–¢—ã –≤–∏–¥–∏—à—å –≤–æ–∫—Ä—É–≥:\n"
            if location_name == "–º–æ—Ä–µ":
                description += "- –æ–±–ª–æ–º–∫–∏ –∫–æ—Ä–∞–±–ª—è\n"
                description += "- –≤–µ—Ä–µ–≤–∫—É\n"
            elif location_name == "–æ—Å—Ç—Ä–æ–≤_–∫–∏—Ä–∫–∏":
                description += "- —Å—Ç—Ä–∞–Ω–Ω—ã–µ —Ç—Ä–∞–≤—ã\n"
                description += "- –∫—É–±–æ–∫ —Å –≤–∏–Ω–æ–º\n"
            elif location_name == "—Ü–∞—Ä—Å—Ç–≤–æ_–∞–∏–¥–∞":
                description += "- —Ç–µ–Ω–∏ —É–º–µ—Ä—à–∏—Ö\n"
                description += "- —á–∞—à—É –¥–ª—è –∂–µ—Ä—Ç–≤–æ–ø—Ä–∏–Ω–æ—à–µ–Ω–∏–π\n"
            elif location_name == "–æ—Å—Ç—Ä–æ–≤_—Å–∏—Ä–µ–Ω":
                description += "- –≤–æ—Å–∫ –¥–ª—è —É—à–µ–π\n"
                description += "- –æ–±—Ä—ã–≤–∫–∏ –∫–∞—Ä—Ç\n"
            elif location_name == "–º–µ–∂–¥—É_—Å—Ü–∏–ª–ª–æ–π_–∏_—Ö–∞—Ä–∏–±–¥–æ–π":
                description += "- –ø–ª–∞–≤–∞—é—â–∏–µ –æ–±–ª–æ–º–∫–∏ –∫–æ—Ä–∞–±–ª–µ–π\n"
                description += "- –≤–µ—Å–ª–æ\n"
            elif location_name == "–æ—Å—Ç—Ä–æ–≤_–∫–∞–ª–∏–ø—Å–æ":
                description += "- —Ü–≤–µ—Ç—É—â–∏–µ –¥–µ—Ä–µ–≤—å—è\n"
                description += "- –ø–ª–æ—Ç–Ω–∏—Ü–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã\n"
            
            description += f"\n–¢–æ—Å–∫–∞ –ø–æ –¥–æ–º—É: {self.longing}/100\n"
            description += f"–ù–∞–∫–æ–ø–ª–µ–Ω–Ω–∞—è –º—É–¥—Ä–æ—Å—Ç—å: {self.wisdom_learned}/100\n"
            description += f"–ü—Ä–æ–≥—Ä–µ—Å—Å –ø—É—Ç–∏ –¥–æ–º–æ–π: {self.odysseus_progress}/100\n"
        
        else:  # –¢–µ–ª–µ–º–∞–∫
            location_name = self.telemachos_current_location
            location_desc = self.telemachos_locations[location_name]
            
            description = f"\n–¢—ã ‚Äî –¢–µ–ª–µ–º–∞–∫, —Å—ã–Ω –û–¥–∏—Å—Å–µ—è, –Ω–∞—Ö–æ–¥–∏—à—å—Å—è –≤ –ª–æ–∫–∞—Ü–∏–∏: {location_name}.\n"
            description += f"{location_desc}\n\n"
            
            # –õ—é–¥–∏ –≤ –ª–æ–∫–∞—Ü–∏–∏
            npcs = self.telemachos_npcs.get(location_name, [])
            if npcs:
                description += "–†—è–¥–æ–º —Å —Ç–æ–±–æ–π:\n"
                for npc in npcs:
                    description += f"- {npc.replace('_', ' ').capitalize()}\n"
            else:
                description += "–ó–¥–µ—Å—å –Ω–∏–∫–æ–≥–æ –Ω–µ—Ç.\n"
            
            # –ü—Ä–µ–¥–º–µ—Ç—ã, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤ –ª–æ–∫–∞—Ü–∏–∏
            description += "\n–¢—ã –≤–∏–¥–∏—à—å –≤–æ–∫—Ä—É–≥:\n"
            if location_name == "–¥–≤–æ—Ä–µ—Ü":
                description += "- –æ—Ç—Ü–æ–≤—Å–∫–∏–π –ª—É–∫\n"
                description += "- —â–∏—Ç —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –∫–æ—Ä–∞–±–ª—è\n"
            elif location_name == "–±–µ—Ä–µ–≥":
                description += "- —Å—Ç–∞—Ä—É—é –ª–æ–¥–∫—É\n"
                description += "- —Ä–∞–∫—É—à–∫–∏, –ø—Ä–∏–Ω–µ—Å–µ–Ω–Ω—ã–µ –≤–æ–ª–Ω–∞–º–∏\n"
            elif location_name == "–æ–ª–∏–≤–∫–æ–≤–∞—è_—Ä–æ—â–∞":
                description += "- —Å—Ç–∞—Ä–æ–µ –¥–µ—Ä–µ–≤–æ —Å –º–µ—Ç–∫–æ–π\n"
                description += "- –º–∞–ª–µ–Ω—å–∫–∏–π –Ω–æ–∂, –∫–æ—Ç–æ—Ä—ã–º –æ—Ç–µ—Ü —É—á–∏–ª —Ç–µ–±—è –≤—ã—Ä–µ–∑–∞—Ç—å\n"
            elif location_name == "–ø–æ–∫–æ–∏_–º–∞—Ç–µ—Ä–∏":
                description += "- —Ç–∫–∞—Ü–∫–∏–π —Å—Ç–∞–Ω–æ–∫\n"
                description += "- —à–∫–∞—Ç—É–ª–∫—É —Å –ø–∞–º—è—Ç–Ω—ã–º–∏ –≤–µ—â–∞–º–∏\n"
            elif location_name == "–∞–≥–æ—Ä–∞":
                description += "- —Å–≤–∏—Ç–∫–∏ —Å –Ω–æ–≤–æ—Å—Ç—è–º–∏ –∏–∑ –¥—Ä—É–≥–∏—Ö –∑–µ–º–µ–ª—å\n"
                description += "- —Å—Ç–∞—Ç—É—é –ê—Ñ–∏–Ω—ã\n"
            
            description += f"\n–¢–æ—Å–∫–∞ –ø–æ –æ—Ç—Ü—É: {self.longing}/100\n"
            description += f"–í–∑—Ä–æ—Å–ª–µ–Ω–∏–µ: {self.telemachos_growth}/100\n"
            
            # –ï—Å–ª–∏ –û–¥–∏—Å—Å–µ–π —É–∂–µ –±–ª–∏–∑–æ–∫ –∫ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—é
            if self.odysseus_progress > 80:
                description += "\n–¢–µ–±—è –Ω–µ –ø–æ–∫–∏–¥–∞–µ—Ç –æ—â—É—â–µ–Ω–∏–µ, —á—Ç–æ —Å–∫–æ—Ä–æ –≤—Å–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è..."
            
        return description

    def list_locations(self) -> str:
        """–ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ª–æ–∫–∞—Ü–∏–π"""
        result = "–î–æ—Å—Ç—É–ø–Ω—ã–µ –ª–æ–∫–∞—Ü–∏–∏ –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è:\n"
        
        if self.character == "odysseus":
            for loc_key, loc_desc in self.odysseus_locations.items():
                # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ —Å–æ—Å–µ–¥–Ω–∏–µ –ª–æ–∫–∞—Ü–∏–∏ –∏–ª–∏ —Ç–µ–∫—É—â—É—é
                if loc_key == self.odysseus_current_location:
                    result += f"- {loc_key.replace('_', ' ').capitalize()} (—Ç—ã –∑–¥–µ—Å—å)\n"
                elif self.is_location_available_for_odysseus(loc_key):
                    result += f"- {loc_key.replace('_', ' ').capitalize()}\n"
        else:
            for loc_key, loc_desc in self.telemachos_locations.items():
                if loc_key == self.telemachos_current_location:
                    result += f"- {loc_key.replace('_', ' ').capitalize()} (—Ç—ã –∑–¥–µ—Å—å)\n"
                else:
                    result += f"- {loc_key.replace('_', ' ').capitalize()}\n"
        
        result += "\n–ß—Ç–æ–±—ã –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å—Å—è, –≤–≤–µ–¥–∏ '–∏–¥—Ç–∏ [–Ω–∞–∑–≤–∞–Ω–∏–µ –ª–æ–∫–∞—Ü–∏–∏]'."
        return result
    
    def is_location_available_for_odysseus(self, location: str) -> bool:
        """–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ª–æ–∫–∞—Ü–∏–∏ –¥–ª—è –û–¥–∏—Å—Å–µ—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞"""
        current_location = self.odysseus_current_location
        
        # –ú–æ—Ä—Å–∫–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ª–æ–∫–∞—Ü–∏–π
        sea_route = [
            "–º–æ—Ä–µ", 
            "–æ—Å—Ç—Ä–æ–≤_–∫–∏—Ä–∫–∏", 
            "—Ü–∞—Ä—Å—Ç–≤–æ_–∞–∏–¥–∞", 
            "–æ—Å—Ç—Ä–æ–≤_—Å–∏—Ä–µ–Ω", 
            "–º–µ–∂–¥—É_—Å—Ü–∏–ª–ª–æ–π_–∏_—Ö–∞—Ä–∏–±–¥–æ–π", 
            "–æ—Å—Ç—Ä–æ–≤_–∫–∞–ª–∏–ø—Å–æ"
        ]
        
        # –ù–∞—Ö–æ–¥–∏–º –∏–Ω–¥–µ–∫—Å—ã —Ç–µ–∫—É—â–µ–π –∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–æ–π –ª–æ–∫–∞—Ü–∏–π
        try:
            current_index = sea_route.index(current_location)
            target_index = sea_route.index(location)
            
            # –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ 1 —à–∞–≥ –≤–ø–µ—Ä–µ–¥ –∏–ª–∏ –Ω–∞–∑–∞–¥ –ø–æ –º–∞—Ä—à—Ä—É—Ç—É
            return abs(current_index - target_index) <= 1
        except ValueError:
            return False
    
    def go_to(self, location: str) -> str:
        """–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å—Å—è –≤ —É–∫–∞–∑–∞–Ω–Ω—É—é –ª–æ–∫–∞—Ü–∏—é"""
        # –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –ª–æ–∫–∞—Ü–∏–∏
        location = location.lower().replace(" ", "_")
        
        if self.character == "odysseus":
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –ª–æ–∫–∞—Ü–∏—è
            if location not in self.odysseus_locations:
                return f"–õ–æ–∫–∞—Ü–∏—è '{location.replace('_', ' ')}' –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –í–≤–µ–¥–∏ '–ª–æ–∫–∞—Ü–∏–∏' –¥–ª—è —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–µ—Å—Ç."
            
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ª–æ–∫–∞—Ü–∏–∏
            if not self.is_location_available_for_odysseus(location):
                return "–≠—Ç–∞ –ª–æ–∫–∞—Ü–∏—è —Å–µ–π—á–∞—Å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞. –¢—ã –º–æ–∂–µ—à—å –ø–µ—Ä–µ–º–µ—â–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –æ–¥–∏–Ω —à–∞–≥ –≤–ø–µ—Ä–µ–¥ –∏–ª–∏ –Ω–∞–∑–∞–¥ –ø–æ —Å–≤–æ–µ–º—É –ø—É—Ç–∏."
            
            # –ï—Å–ª–∏ –≤—Å—ë –≤ –ø–æ—Ä—è–¥–∫–µ, –ø–µ—Ä–µ–º–µ—â–∞–µ–º—Å—è
            self.odysseus_current_location = location
            
            # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å, –µ—Å–ª–∏ –¥–≤–∏–∂–µ–º—Å—è –≤–ø–µ—Ä–µ–¥
            sea_route = [
                "–º–æ—Ä–µ", 
                "–æ—Å—Ç—Ä–æ–≤_–∫–∏—Ä–∫–∏", 
                "—Ü–∞—Ä—Å—Ç–≤–æ_–∞–∏–¥–∞", 
                "–æ—Å—Ç—Ä–æ–≤_—Å–∏—Ä–µ–Ω", 
                "–º–µ–∂–¥—É_—Å—Ü–∏–ª–ª–æ–π_–∏_—Ö–∞—Ä–∏–±–¥–æ–π", 
                "–æ—Å—Ç—Ä–æ–≤_–∫–∞–ª–∏–ø—Å–æ"
            ]
            progress_increment = (100 / (len(sea_route) - 1)) * 0.5  # –ü–æ–ª–æ–≤–∏–Ω–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∑–∞ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ
            self.odysseus_progress = min(100, (sea_route.index(location) / (len(sea_route) - 1)) * 100)
            
            # –°–ª—É—á–∞–π–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ –ø—Ä–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏
            events = [
                "–í–µ—Ç–µ—Ä –Ω–∞–ø–æ–ª–Ω—è–µ—Ç –ø–∞—Ä—É—Å–∞, —É–Ω–æ—Å—è —Ç–µ–±—è –≤—Å—ë –¥–∞–ª—å—à–µ –æ—Ç –¥–æ–º–∞, –∫–æ—Ç–æ—Ä—ã–π —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤—Å—ë —Ä–æ–¥–Ω–µ–µ –≤ –ø–∞–º—è—Ç–∏.",
                "–í–æ–ª–Ω—ã –±—å—é—Ç—Å—è –æ –±–æ—Ä—Ç, –Ω–∞–ø–æ–º–∏–Ω–∞—è –æ –Ω–µ–ø–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–µ –º–æ—Ä—è –∏ –∂–∏–∑–Ω–∏.",
                "–í —à—É–º–µ –ø—Ä–∏–±–æ—è —Ç–µ–±–µ —Å–ª—ã—à–∏—Ç—Å—è –≥–æ–ª–æ—Å –ü–µ–Ω–µ–ª–æ–ø—ã, –∑–æ–≤—É—â–µ–π —Ç–µ–±—è –¥–æ–º–æ–π.",
                "–ó–≤–µ–∑–¥—ã —Å–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è –≤ —É–∑–æ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—É—Ç—å.",
                "–¢—ã –≤—Å–ø–æ–º–∏–Ω–∞–µ—à—å –¢–µ–ª–µ–º–∞–∫–∞, –∫–∞–∫–∏–º –æ–Ω –±—ã–ª –≤ –¥–µ—Ç—Å—Ç–≤–µ, –∏ –¥—É–º–∞–µ—à—å, –∫–∞–∫–∏–º –æ–Ω —Å—Ç–∞–ª —Ç–µ–ø–µ—Ä—å."
            ]
            
            return f"–¢—ã –ø—Ä–∏–±—ã–ª –≤ –ª–æ–∫–∞—Ü–∏—é: {location.replace('_', ' ')}.\n\n{random.choice(events)}\n\n–í–≤–µ–¥–∏ '–æ—Å–º–æ—Ç—Ä–µ—Ç—å—Å—è', —á—Ç–æ–±—ã –∏–∑—É—á–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ."
        
        else:  # –¢–µ–ª–µ–º–∞–∫
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –ª–æ–∫–∞—Ü–∏—è
            if location not in self.telemachos_locations:
                return f"–õ–æ–∫–∞—Ü–∏—è '{location.replace('_', ' ')}' –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –í–≤–µ–¥–∏ '–ª–æ–∫–∞—Ü–∏–∏' –¥–ª—è —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–µ—Å—Ç."
            
            # –î–ª—è –¢–µ–ª–µ–º–∞–∫–∞ –≤—Å–µ –ª–æ–∫–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —Å—Ä–∞–∑—É
            self.telemachos_current_location = location
            
            # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –≤–∑—Ä–æ—Å–ª–µ–Ω–∏—è –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏
            self.telemachos_growth = min(100, self.telemachos_growth + 2)
            
            # –°–ª—É—á–∞–π–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ –ø—Ä–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏
            events = [
                "–ü–æ –ø—É—Ç–∏ —Ç—ã —Å–ª—ã—à–∏—à—å, –∫–∞–∫ –ª—é–¥–∏ –≥–æ–≤–æ—Ä—è—Ç –æ–± –û–¥–∏—Å—Å–µ–µ, –≤—Å–ø–æ–º–∏–Ω–∞—è –µ–≥–æ –ø–æ–¥–≤–∏–≥–∏.",
                "–¢–µ–±–µ –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ –≤ —Ç–æ–ª–ø–µ –º–µ–ª—å–∫–Ω—É–ª —Å–∏–ª—É—ç—Ç, –Ω–∞–ø–æ–º–∏–Ω–∞—é—â–∏–π —Ç–æ–≥–æ, –∫–æ–≥–æ —Ç—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–∏–¥–µ–ª, –Ω–æ –≤—Å–µ–≥–¥–∞ —É–∑–Ω–∞–µ—à—å.",
                "–°—Ç–∞—Ä–∏–∫ —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ —Ç–µ–±—è –∏ –∫–∏–≤–∞–µ—Ç: '–í—Å—ë –±–æ–ª—å—à–µ –ø–æ—Ö–æ–∂ –Ω–∞ –æ—Ç—Ü–∞.'",
                "–í–µ—Ç–µ—Ä —Å –º–æ—Ä—è –ø—Ä–∏–Ω–æ—Å–∏—Ç –∑–∞–ø–∞—Ö —Å–æ–ª–∏ –∏ —Å—Ç—Ä–∞–Ω–Ω–æ–µ —á—É–≤—Å—Ç–≤–æ –æ–∂–∏–¥–∞–Ω–∏—è.",
                "–í–∑–≥–ª—è–¥ –ø–∞–¥–∞–µ—Ç –Ω–∞ –≥–æ—Ä–∏–∑–æ–Ω—Ç, –≥–¥–µ —Å–ª–∏–≤–∞—é—Ç—Å—è –Ω–µ–±–æ –∏ –º–æ—Ä–µ, –∏ —Ç—ã –∑–∞–¥–∞–µ—à—å—Å—è –≤–æ–ø—Ä–æ—Å–æ–º, –≥–¥–µ —Å–µ–π—á–∞—Å –æ—Ç–µ—Ü."
            ]
            
            return f"–¢—ã –ø—Ä–∏—à–µ–ª –≤ –ª–æ–∫–∞—Ü–∏—é: {location.replace('_', ' ')}.\n\n{random.choice(events)}\n\n–í–≤–µ–¥–∏ '–æ—Å–º–æ—Ç—Ä–µ—Ç—å—Å—è', —á—Ç–æ–±—ã –∏–∑—É—á–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ."
    
    def list_people_around(self) -> str:
        """–ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ª—é–¥–µ–π –≤ —Ç–µ–∫—É—â–µ–π –ª–æ–∫–∞—Ü–∏–∏"""
        if self.character == "odysseus":
            location = self.odysseus_current_location
            npcs = self.odysseus_npcs.get(location, [])
        else:
            location = self.telemachos_current_location
            npcs = self.telemachos_npcs.get(location, [])
        
        if not npcs:
            return "–ó–¥–µ—Å—å –Ω–∏–∫–æ–≥–æ –Ω–µ—Ç."
        
        result = "–†—è–¥–æ–º —Å —Ç–æ–±–æ–π –Ω–∞—Ö–æ–¥—è—Ç—Å—è:\n"
        for npc in npcs:
            result += f"- {npc.replace('_', ' ').capitalize()}\n"
        
        result += "\n–ß—Ç–æ–±—ã –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å, –≤–≤–µ–¥–∏ '–≥–æ–≤–æ—Ä–∏—Ç—å [–∏–º—è]'."
        return result
    
    def list_items(self) -> str:
        """–ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ —É –∏–≥—Ä–æ–∫–∞"""
        items = self.odysseus_items if self.character == "odysseus" else self.telemachos_items
        
        if not items:
            return "–£ —Ç–µ–±—è –Ω–µ—Ç –ø—Ä–µ–¥–º–µ—Ç–æ–≤."
        
        result = "–¢–≤–æ–∏ –ø—Ä–µ–¥–º–µ—Ç—ã:\n"
        for item in items:
            result += f"- {item}\n"
        
        result += "\n–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç, –≤–≤–µ–¥–∏ '–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [–Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞]'."
        return result
    
    def talk_to(self, person: str) -> str:
        """–ü–æ–≥–æ–≤–æ—Ä–∏—Ç—å —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–º"""
        person = person.lower().replace(" ", "_")
        
        if self.character == "odysseus":
            location = self.odysseus_current_location
            npcs = self.odysseus_npcs.get(location, [])
            
            if person not in npcs:
                return f"–ó–¥–µ—Å—å –Ω–µ—Ç –Ω–∏–∫–æ–≥–æ —Å –∏–º–µ–Ω–µ–º '{person.replace('_', ' ')}'."
            
            # –î–∏–∞–ª–æ–≥–∏ —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏ –¥–ª—è –û–¥–∏—Å—Å–µ—è
            if location == "–º–æ—Ä–µ":
                if person == "–ø–æ—Å–µ–π–¥–æ–Ω":
                    self.wisdom_learned += 5
                    self.longing += 10
                    return """
–í–æ–ª–Ω—ã –ø–æ–¥–Ω–∏–º–∞—é—Ç—Å—è –≤—ã—à–µ, –æ–±—Ä–∞–∑—É—è –ø–æ–¥–æ–±–∏–µ –ª–∏—Ü–∞ –∏–∑ –ø–µ–Ω—ã.

–ü–æ—Å–µ–π–¥–æ–Ω: "–¢—ã, –æ—Å–º–µ–ª–∏–≤—à–∏–π—Å—è –æ—Å–ª–µ–ø–∏—Ç—å –º–æ–µ–≥–æ —Å—ã–Ω–∞ –ü–æ–ª–∏—Ñ–µ–º–∞, –ø–æ–∑–Ω–∞–µ—à—å –¥–æ–ª–≥—É—é —Ä–∞–∑–ª—É–∫—É —Å –¥–æ–º–æ–º. –Ø –Ω–µ —É–Ω–∏—á—Ç–æ–∂—É —Ç–µ–±—è, –Ω–æ –∏—Å–ø—ã—Ç–∞—é —Ç–≤–æ–µ —Ç–µ—Ä–ø–µ–Ω–∏–µ –∏ –º—É–¥—Ä–æ—Å—Ç—å."

–ò–∑ —ç—Ç–æ–≥–æ —Ç—Ä—É–¥–Ω–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞ —Ç—ã –∏–∑–≤–ª–µ–∫ –º—É–¥—Ä–æ—Å—Ç—å: –Ω–µ —Ö–≤–∞—Å—Ç–∞—Ç—å—Å—è —Å–≤–æ–∏–º–∏ –¥–µ—è–Ω–∏—è–º–∏ –ø–µ—Ä–µ–¥ –±–æ–≥–∞–º–∏. –¢–æ—Å–∫–∞ –ø–æ –¥–æ–º—É —É—Å–∏–ª–∏–ª–∞—Å—å.
"""
                elif person == "—Å—Ç–∞—Ä—ã–π_–º–æ—Ä—è–∫":
                    self.wisdom_learned += 8
                    return """
–°—Ç–∞—Ä—ã–π –º–æ—Ä—è–∫ —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ —Ç–µ–±—è –≤–∑–≥–ª—è–¥–æ–º, –ø–æ–ª–Ω—ã–º —Å–æ—Å—Ç—Ä–∞–¥–∞–Ω–∏—è –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è.

–°—Ç–∞—Ä—ã–π –º–æ—Ä—è–∫: "–ú–Ω–æ–≥–æ –º–æ—Ä–µ–π —è –ø–µ—Ä–µ—Å–µ–∫, –º–Ω–æ–≥–æ —à—Ç–æ—Ä–º–æ–≤ –ø–µ—Ä–µ–∂–∏–ª. –ó–Ω–∞–µ—à—å, —Ü–∞—Ä—å, —Å–∏–ª–∞ –Ω–µ –≤ —Ç–æ–º, —á—Ç–æ–±—ã –±–æ—Ä–æ—Ç—å—Å—è —Å –º–æ—Ä–µ–º, –∞ –≤ —Ç–æ–º, —á—Ç–æ–±—ã –ø–ª—ã—Ç—å —Ç—É–¥–∞, –∫—É–¥–∞ –æ–Ω–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç, –≤—ã–∂–∏–¥–∞—è –º–æ–º–µ–Ω—Ç –¥–ª—è —Å–≤–æ–µ–≥–æ –∫—É—Ä—Å–∞."

–¢—ã –ø–æ–ª—É—á–∏–ª —Å–æ–≤–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–∂–µ—Ç –≤ —Å—Ç—Ä–∞–Ω—Å—Ç–≤–∏—è—Ö: –∏–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —É—Å—Ç—É–ø–∏—Ç—å, —á—Ç–æ–±—ã –≤ –∫–æ–Ω—Ü–µ –∫–æ–Ω—Ü–æ–≤ –ø–æ–±–µ–¥–∏—Ç—å.
"""
            
            elif location == "–æ—Å—Ç—Ä–æ–≤_–∫–∏—Ä–∫–∏":
                if person == "–∫–∏—Ä–∫–∞":
                    self.wisdom_learned += 7
                    self.longing += 5
                    return """
–ö–∏—Ä–∫–∞ —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ —Ç–µ–±—è –≥–ª–∞–∑–∞–º–∏, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –æ—Ç—Ä–∞–∂–∞–µ—Ç—Å—è –º—É–¥—Ä–æ—Å—Ç—å –≤–µ–∫–æ–≤.

–ö–∏—Ä–∫–∞: "–ß—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å—Å—è –¥–æ–º–æ–π, —Ç—ã –¥–æ–ª–∂–µ–Ω —Å–Ω–∞—á–∞–ª–∞ —Å–ø—É—Å—Ç–∏—Ç—å—Å—è –≤ —Ü–∞—Ä—Å—Ç–≤–æ –º–µ—Ä—Ç–≤—ã—Ö –∏ –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å —Å –ø—Ä–æ—Ä–∏—Ü–∞—Ç–µ–ª–µ–º –¢–∏—Ä–µ—Å–∏–µ–º. –¢–æ–ª—å–∫–æ –æ–Ω –º–æ–∂–µ—Ç —É–∫–∞–∑–∞—Ç—å —Ç–µ–±–µ –ø—É—Ç—å. –ù–æ –ø–æ–º–Ω–∏, –º–µ–∂–¥—É –∑–Ω–∞–Ω–∏–µ–º –∏ –¥–æ–º–æ–º –ª–µ–∂–∏—Ç –ø—Ä–æ–ø–∞—Å—Ç—å –ø–æ—Ç–µ—Ä–∏."

–¢—ã –ø–æ–Ω–∏–º–∞–µ—à—å, —á—Ç–æ –ø—É—Ç—å –¥–æ–º–æ–π –±—É–¥–µ—Ç –µ—â–µ –¥–æ–ª–≥–∏–º, –∏ —ç—Ç–æ —É—Å–∏–ª–∏–≤–∞–µ—Ç —Ç–≤–æ—é —Ç–æ—Å–∫—É.
"""
                elif person == "–ø—Ä–µ–≤—Ä–∞—â–µ–Ω–Ω—ã–µ_–≤_—Å–≤–∏–Ω–µ–π":
                    self.wisdom_learned += 3
                    return """
–¢–≤–æ–∏ —Å–ø—É—Ç–Ω–∏–∫–∏, –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–Ω—ã–µ –≤ —Å–≤–∏–Ω–µ–π, —É–∑–Ω–∞—é—Ç —Ç–µ–±—è. –í –∏—Ö –≥–ª–∞–∑–∞—Ö —Ç—ã –≤–∏–¥–∏—à—å –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–Ω–∞–Ω–∏—è, –∑–∞–ø–µ—Ä—Ç–æ–≥–æ –≤ –∂–∏–≤–æ—Ç–Ω–æ–º —Ç–µ–ª–µ.

–¢—ã –æ–±–¥—É–º—ã–≤–∞–µ—à—å –ø—Ä–∏—Ä–æ–¥—É —á–µ–ª–æ–≤–µ–∫–∞: —Å–∫–æ–ª—å–∫–æ –≤ –Ω–∞—Å –∂–∏–≤–æ—Ç–Ω–æ–≥–æ –∏ —Å–∫–æ–ª—å–∫–æ –±–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ, –∏ —á—Ç–æ –∑–Ω–∞—á–∏—Ç –±—ã—Ç—å —á–µ–ª–æ–≤–µ–∫–æ–º –≤ –º–∏—Ä–µ –±–æ–≥–æ–≤ –∏ —á—É–¥–æ–≤–∏—â.
"""
            
            elif location == "—Ü–∞—Ä—Å—Ç–≤–æ_–∞–∏–¥–∞":
                if person == "—Ç–∏—Ä–µ—Å–∏–π":
                    self.wisdom_learned += 10
                    self.longing += 15
                    self.odysseus_progress += 10
                    return """
–¢–µ–Ω—å –¢–∏—Ä–µ—Å–∏—è –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è –∏–∑ —Ç—É–º–∞–Ω–Ω–æ–π –≥–ª—É–±–∏–Ω—ã, –≥–ª–∞–∑–∞ –ø—Ä–æ–≤–∏–¥—Ü–∞ –∏–∑–ª—É—á–∞—é—Ç –Ω–µ–∑–µ–º–Ω–æ–π —Å–≤–µ—Ç.

–¢–∏—Ä–µ—Å–∏–π: "–ü—É—Ç—å –¥–æ–º–æ–π –≤–æ–∑–º–æ–∂–µ–Ω, –Ω–æ —Ç–µ—Ä–Ω–∏—Å—Ç. –¢—ã –≤–µ—Ä–Ω–µ—à—å—Å—è –Ω–∞ –ò—Ç–∞–∫—É –æ–¥–∏–Ω, –ø–æ—Ç–µ—Ä—è–≤ –≤—Å–µ—Ö —Å–ø—É—Ç–Ω–∏–∫–æ–≤. –ù–µ —Ç—Ä–æ–≥–∞–π —Å–∫–æ—Ç –ì–µ–ª–∏–æ—Å–∞. –ë–µ—Ä–µ–≥–∏—Å—å –°—Ü–∏–ª–ª –∏ –•–∞—Ä–∏–±–¥ –∂–∏–∑–Ω–∏. –í –¥–æ–º–µ –Ω–∞–π–¥–µ—à—å –±–µ–¥—Å—Ç–≤–∏–µ ‚Äî –∂–µ–Ω–∏—Ö–æ–≤, –ø–æ–∂–∏—Ä–∞—é—â–∏—Ö —Ç–≤–æ–µ –¥–æ—Å—Ç–æ—è–Ω–∏–µ. –ù–æ –ø—Ä–µ–∂–¥–µ —á–µ–º –º—Å—Ç–∏—Ç—å, —Ç—ã –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∏–∫–µ–º, —á—Ç–æ–±—ã —Å—Ç–∞—Ç—å —Å–æ–±–æ–π."

–≠—Ç–∏ –ø—Ä–æ—Ä–æ—á–µ—Å—Ç–≤–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –¥–∞—é—Ç –Ω–∞–¥–µ–∂–¥—É –∏ —Ç—Ä–µ–≤–æ–∂–∞—Ç –¥—É—à—É. –¢—ã –ø—Ä–æ–¥–≤–∏–Ω—É–ª—Å—è –≤ –ø–æ–Ω–∏–º–∞–Ω–∏–∏ —Å–≤–æ–µ–≥–æ –ø—É—Ç–∏.
"""
                elif person == "–∞–Ω—Ç–∏–∫–ª–µ—è":
                    self.longing += 20
                    self.wisdom_learned += 8
                    return """
–¢–µ–Ω—å —Ç–≤–æ–µ–π –º–∞—Ç–µ—Ä–∏ –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç—Å—è, –µ—ë –≤–∑–≥–ª—è–¥ –ø–æ–ª–æ–Ω –ª—é–±–≤–∏ –∏ –ø–µ—á–∞–ª–∏.

–ê–Ω—Ç–∏–∫–ª–µ—è: "–°—ã–Ω –º–æ–π, —è —É–º–µ—Ä–ª–∞ –æ—Ç —Ç–æ—Å–∫–∏ –ø–æ —Ç–µ–±–µ. –¢–≤–æ–π –æ—Ç–µ—Ü –∂–∏–≤–µ—Ç –æ—Ç—à–µ–ª—å–Ω–∏–∫–æ–º, —Å–∫–æ—Ä–±—è. –¢–µ–ª–µ–º–∞–∫ –∏ –ü–µ–Ω–µ–ª–æ–ø–∞ –∂–¥—É—Ç, –æ–∫—Ä—É–∂–µ–Ω–Ω—ã–µ –≤—Ä–∞–≥–∞–º–∏. –ù–µ –º–µ—à–∫–∞–π, –Ω–æ –∏ –Ω–µ —Ç–æ—Ä–æ–ø–∏—Å—å ‚Äî –∫–∞–∂–¥—ã–π —à–∞–≥ –Ω–∞ –ø—É—Ç–∏ –¥–æ–º–æ–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–µ—Ä–Ω—ã–º."

–°–ª–æ–≤–∞ –º–∞—Ç–µ—Ä–∏ –æ —Å–µ–º—å–µ, –∫–æ—Ç–æ—Ä—É—é —Ç—ã –Ω–µ –≤–∏–¥–µ–ª —Ç–∞–∫ –¥–æ–ª–≥–æ, –Ω–∞–ø–æ–ª–Ω—è—é—Ç —Å–µ—Ä–¥—Ü–µ –Ω–µ–≤—ã–Ω–æ—Å–∏–º–æ–π —Ç–æ—Å–∫–æ–π. –ù–æ –≤ —ç—Ç–æ–π —Ç–æ—Å–∫–µ –µ—Å—Ç—å –∏ –º—É–¥—Ä–æ—Å—Ç—å –ø–æ–Ω–∏–º–∞–Ω–∏—è –∂–µ—Ä—Ç–≤—ã.
"""
            
            elif location == "–æ—Å—Ç—Ä–æ–≤_—Å–∏—Ä–µ–Ω":
                if person == "—Å–∏—Ä–µ–Ω—ã":
                    self.wisdom_learned += 15
                    return """
–ì–æ–ª–æ—Å–∞ —Å–∏—Ä–µ–Ω –¥–æ–Ω–æ—Å—è—Ç—Å—è –¥–æ —Ç–µ–±—è, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –≤–æ—Å–∫ –≤ —É—à–∞—Ö –∫–æ–º–∞–Ω–¥—ã. –û–Ω–∏ –æ–±–µ—â–∞—é—Ç –∑–Ω–∞–Ω–∏–µ –≤—Å–µ–≥–æ, —á—Ç–æ –±—ã–ª–æ –∏ –±—É–¥–µ—Ç.

–°–∏—Ä–µ–Ω—ã: "–ú—ã –∑–Ω–∞–µ–º –≤—Å–µ —Å—Ç—Ä–∞–¥–∞–Ω–∏—è, —á—Ç–æ –∞—Ö–µ–π—Ü—ã –∏ —Ç—Ä–æ—è–Ω–µ –∏—Å–ø—ã—Ç–∞–ª–∏ –≤–æ–ª–µ—é –±–æ–≥–æ–≤. –ó–Ω–∞–µ–º –≤—Å–µ, —á—Ç–æ —Å–ª—É—á–∏—Ç—Å—è –Ω–∞ –∑–µ–º–ª–µ. –ü–æ–¥–æ–π–¥–∏, —É–∑–Ω–∞–π —Å–≤–æ—é —Å—É–¥—å–±—É –∏ —Å—É–¥—å–±—É –º–∏—Ä–∞..."

–ü—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π –∫ –º–∞—á—Ç–µ, —Ç—ã —Å–ª—ã—à–∏—à—å –æ–±–µ—â–∞–Ω–∏–µ –∑–Ω–∞–Ω–∏—è, –Ω–æ –≤—ã–±–∏—Ä–∞–µ—à—å –Ω–µ–∑–Ω–∞–Ω–∏–µ –∏ –∂–∏–∑–Ω—å. –í —ç—Ç–æ–º –ø–∞—Ä–∞–¥–æ–∫—Å–µ —Ç—ã –Ω–∞—Ö–æ–¥–∏—à—å –≥–ª—É–±–æ–∫—É—é –º—É–¥—Ä–æ—Å—Ç—å: –∏–Ω–æ–≥–¥–∞ –æ—Ç–∫–∞–∑ –æ—Ç –∑–Ω–∞–Ω–∏—è –º—É–¥—Ä–µ–µ, —á–µ–º –µ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏–µ.
"""
            
            elif location == "–º–µ–∂–¥—É_—Å—Ü–∏–ª–ª–æ–π_–∏_—Ö–∞—Ä–∏–±–¥–æ–π":
                if person == "—Å—Ü–∏–ª–ª–∞":
                    self.longing += 5
                    self.wisdom_learned += 6
                    return """
–ú–Ω–æ–≥–æ–≥–æ–ª–æ–≤–æ–µ —á—É–¥–æ–≤–∏—â–µ –Ω–∞–≤–∏—Å–∞–µ—Ç —Å —É—Ç–µ—Å–∞, –≥–æ—Ç–æ–≤–æ–µ —Å—Ö–≤–∞—Ç–∏—Ç—å –ª—é–±–æ–≥–æ, –∫—Ç–æ –ø–æ–¥–æ–π–¥–µ—Ç —Å–ª–∏—à–∫–æ–º –±–ª–∏–∑–∫–æ.

–ü—Ä–æ—Ö–æ–¥—è –º–∏–º–æ –°—Ü–∏–ª–ª—ã, —Ç—ã –ø—Ä–∏–Ω–∏–º–∞–µ—à—å —Ç—è–∂–µ–ª–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞—Ç—å —á–∞—Å—Ç—å—é –∫–æ–º–∞–Ω–¥—ã, —á—Ç–æ–±—ã —Å–ø–∞—Å—Ç–∏ –∫–æ—Ä–∞–±–ª—å. –≠—Ç–æ –ø—Ä–∏–Ω–æ—Å–∏—Ç —Ç–µ–±–µ –≥–æ—Ä—å–∫—É—é –º—É–¥—Ä–æ—Å—Ç—å –æ –ø—Ä–∏—Ä–æ–¥–µ –≤—ã–±–æ—Ä–∞ –≤ –Ω–µ–≤—ã–Ω–æ—Å–∏–º—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö.
"""
                elif person == "—Ö–∞—Ä–∏–±–¥–∞":
                    self.wisdom_learned += 6
                    return """
–í–æ–¥–æ–≤–æ—Ä–æ—Ç –•–∞—Ä–∏–±–¥—ã –ø–æ–≥–ª–æ—â–∞–µ—Ç –∏ –∏–∑–≤–µ—Ä–≥–∞–µ—Ç –º–æ—Ä–µ —Ç—Ä–∏–∂–¥—ã –≤ –¥–µ–Ω—å. –ï–≥–æ —Ä–µ–≤ –Ω–∞–ø–æ–ª–Ω—è–µ—Ç –≤–æ–∑–¥—É—Ö.

–ù–∞–±–ª—é–¥–∞—è –∑–∞ —Ä–∏—Ç–º–æ–º –•–∞—Ä–∏–±–¥—ã, —Ç—ã –ø–æ–Ω–∏–º–∞–µ—à—å –≤–∞–∂–Ω—É—é –∏—Å—Ç–∏–Ω—É: –¥–∞–∂–µ —Å–∞–º—ã–µ —Å—Ç—Ä–∞—à–Ω—ã–µ –æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏–º–µ—é—Ç —Å–≤–æ–π —Ä–∏—Ç–º –∏ –ø–∞—Ç—Ç–µ—Ä–Ω. –¢–µ—Ä–ø–µ–Ω–∏–µ –∏ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–æ–≥—É—Ç –ø–æ–º–æ—á—å –Ω–∞–π—Ç–∏ –ø—É—Ç—å —Ç–∞–º, –≥–¥–µ –µ–≥–æ, –∫–∞–∑–∞–ª–æ—Å—å –±—ã, –Ω–µ—Ç.
"""
            
            elif location == "–æ—Å—Ç—Ä–æ–≤_–∫–∞–ª–∏–ø—Å–æ":
                if person == "–∫–∞–ª–∏–ø—Å–æ":
                    self.longing += 10
                    self.wisdom_learned += 5
                    return """
–ü—Ä–µ–∫—Ä–∞—Å–Ω–∞—è –Ω–∏–º—Ñ–∞ –ö–∞–ª–∏–ø—Å–æ —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ —Ç–µ–±—è —Å –Ω–µ–∂–Ω–æ—Å—Ç—å—é –∏ –∑–∞—Ç–∞–µ–Ω–Ω–æ–π –≥—Ä—É—Å—Ç—å—é.

–ö–∞–ª–∏–ø—Å–æ: "–Ø –ø—Ä–µ–¥–ª–∞–≥–∞—é —Ç–µ–±–µ –≤–µ—á–Ω—É—é –∂–∏–∑–Ω—å –∏ –≤–µ—á–Ω—É—é –º–æ–ª–æ–¥–æ—Å—Ç—å —Ä—è–¥–æ–º —Å–æ –º–Ω–æ–π. –û—Ç—á–µ–≥–æ —Ç—ã —Ç–∞–∫ —Å—Ç—Ä–µ–º–∏—à—å—Å—è –∫ —Å–º–µ—Ä—Ç–Ω–æ–π –∂–µ–Ω–µ, –∫–æ—Ç–æ—Ä–∞—è —É–≤—è–Ω–µ—Ç, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ —è –±—É–¥—É –≤–µ—á–Ω–æ –º–æ–ª–æ–¥–∞?"

–¢—ã –æ—Ç–≤–µ—á–∞–µ—à—å: "–í—Å—ë, —á—Ç–æ —è –∑–Ω–∞—é ‚Äî —è —Ö–æ—á—É –¥–æ–º–æ–π. –î–∞–∂–µ –µ—Å–ª–∏ –ü–µ–Ω–µ–ª–æ–ø–∞ –Ω–µ —Ç–∞–∫ –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞, –∫–∞–∫ —Ç—ã, –æ–Ω–∞ —Å–º–µ—Ä—Ç–Ω–∞, –∫–∞–∫ –∏ —è. –í —ç—Ç–æ–º –Ω–∞—à–µ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ –∏ –Ω–∞—à–∞ —Å—É–¥—å–±–∞."

–í —ç—Ç–æ–º –≤—ã–±–æ—Ä–µ –º–µ–∂–¥—É –±–µ—Å—Å–º–µ—Ä—Ç–∏–µ–º –∏ –¥–æ–º–æ–º —Ç—ã –Ω–∞—Ö–æ–¥–∏—à—å –ø–æ–Ω–∏–º–∞–Ω–∏–µ –≥–ª—É–±–∏–Ω–Ω–æ–π —Å—É—Ç–∏ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è.
"""
                elif person == "–≥–µ—Ä–º–µ—Å":
                    self.odysseus_progress += 15
                    self.wisdom_learned += 7
                    return """
–ì–µ—Ä–º–µ—Å, –ø–æ—Å–ª–∞–Ω–Ω–∏–∫ –±–æ–≥–æ–≤, –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥ —Ç–æ–±–æ–π.

–ì–µ—Ä–º–µ—Å: "–ó–µ–≤—Å –ø–æ—Å—ã–ª–∞–µ—Ç —Ç–µ–±–µ –≤–µ—Å—Ç—å: –ö–∞–ª–∏–ø—Å–æ –¥–æ–ª–∂–Ω–∞ –æ—Ç–ø—É—Å—Ç–∏—Ç—å —Ç–µ–±—è. –ü–æ—Å—Ç—Ä–æ–π –ø–ª–æ—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–π—Å—è –≤ –ø—É—Ç—å. –û–¥–Ω–∞–∫–æ –ø–æ—Å–ª–µ–¥–Ω–µ–µ –∏—Å–ø—ã—Ç–∞–Ω–∏–µ –∂–¥–µ—Ç —Ç–µ–±—è ‚Äî –ø—Ä–∏–±—ã–≤ –Ω–∞ –ò—Ç–∞–∫—É, —Ç—ã –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –¥–æ–º, –Ω–æ –∏ —Å–µ–±—è."

–¢—ã –ø–æ–ª—É—á–∞–µ—à—å –±–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ –ø–æ–Ω–∏–º–∞–µ—à—å, —á—Ç–æ –∫–æ–Ω–µ—Ü –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è –±–ª–∏–∑–æ–∫, –Ω–æ —Å–∞–º–æ–µ —Å–ª–æ–∂–Ω–æ–µ –∏—Å–ø—ã—Ç–∞–Ω–∏–µ –µ—â–µ –≤–ø–µ—Ä–µ–¥–∏.
"""
        
        else:  # –î–∏–∞–ª–æ–≥–∏ –¢–µ–ª–µ–º–∞–∫–∞
            location = self.telemachos_current_location
            npcs = self.telemachos_npcs.get(location, [])
            
            if person not in npcs:
                return f"–ó–¥–µ—Å—å –Ω–µ—Ç –Ω–∏–∫–æ–≥–æ —Å –∏–º–µ–Ω–µ–º '{person.replace('_', ' ')}'."
            
            # –î–∏–∞–ª–æ–≥–∏ —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏ –¥–ª—è –¢–µ–ª–µ–º–∞–∫–∞
            if location == "–¥–≤–æ—Ä–µ—Ü":
                if person == "–ø–µ–Ω–µ–ª–æ–ø–∞":
                    self.longing += 8
                    self.telemachos_growth += 5
                    return """
–¢–≤–æ—è –º–∞—Ç—å –ü–µ–Ω–µ–ª–æ–ø–∞ –≤—ã–≥–ª—è–¥–∏—Ç —É—Å—Ç–∞–≤—à–µ–π, –Ω–æ –≤ –µ—ë –≥–ª–∞–∑–∞—Ö —Ç—ã –≤–∏–¥–∏—à—å –Ω–µ–ø–æ–∫–æ–ª–µ–±–∏–º—É—é –≤–µ—Ä–Ω–æ—Å—Ç—å.

–ü–µ–Ω–µ–ª–æ–ø–∞: "–ñ–µ–Ω–∏—Ö–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –≤—Å—ë –Ω–∞—Å—Ç–æ–π—á–∏–≤–µ–µ. –û–Ω–∏ –≥–æ–≤–æ—Ä—è—Ç, —á—Ç–æ —Ç–≤–æ–π –æ—Ç–µ—Ü –º–µ—Ä—Ç–≤, –∏ —è –¥–æ–ª–∂–Ω–∞ –≤—ã–±—Ä–∞—Ç—å –Ω–æ–≤–æ–≥–æ –º—É–∂–∞. –ù–æ —è –≤–µ—Ä—é, —á—Ç–æ –æ–Ω –∂–∏–≤. –ú–æ–µ —Å–µ—Ä–¥—Ü–µ –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –º–Ω–µ —ç—Ç–æ."

–¢—ã –æ–±–Ω–∏–º–∞–µ—à—å –º–∞—Ç—å, –∏ —ç—Ç–æ –ø—Ä–∏–∫–æ—Å–Ω–æ–≤–µ–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç –æ —Ç–æ–º, –∫–∞–∫–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –ª–µ–∂–∏—Ç –Ω–∞ —Ç–µ–±–µ ‚Äî —Å—ã–Ω–µ —Ü–∞—Ä—è, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –∑–∞—â–∏—Ç–∏—Ç—å –¥–æ–º.
"""
                elif person == "–µ–≤–º–µ–π":
                    self.telemachos_growth += 7
                    return """
–°—Ç–∞—Ä—ã–π —Å–≤–∏–Ω–æ–ø–∞—Å –ï–≤–º–µ–π, —Å–∞–º—ã–π –≤–µ—Ä–Ω—ã–π –∏–∑ —Å–ª—É–≥ –≤–∞—à–µ–≥–æ –¥–æ–º–∞, –ø–æ–¥—Ö–æ–¥–∏—Ç –∫ —Ç–µ–±–µ.

–ï–≤–º–µ–π: "–ú–æ–ª–æ–¥–æ–π –≥–æ—Å–ø–æ–¥–∏–Ω, –ø–æ–º–Ω—é, –∫–∞–∫ —Ç–≤–æ–π –æ—Ç–µ—Ü –¥–µ—Ä–∂–∞–ª —Ç–µ–±—è –Ω–∞ —Ä—É–∫–∞—Ö –∏ –≥–æ–≤–æ—Ä–∏–ª, —á—Ç–æ —Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∏—à—å –µ–≥–æ —Ä–æ–¥. –°–µ–π—á–∞—Å —Ç—ã –≤—ã–≥–ª—è–¥–∏—à—å –≤—Å—ë –±–æ–ª—å—à–µ –ø–æ—Ö–æ–∂–∏–º –Ω–∞ –Ω–µ–≥–æ. –í–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å, –∫–∞–∫ –ø–æ—Å—Ç—É–ø–∏–ª –±—ã –æ–Ω."

–≠—Ç–∏ —Å–ª–æ–≤–∞ –∑–∞—Å—Ç–∞–≤–ª—è—é—Ç —Ç–µ–±—è –∑–∞–¥—É–º–∞—Ç—å—Å—è –æ —Å–≤–æ–µ–º –Ω–∞—Å–ª–µ–¥–∏–∏ –∏ –æ —Ç–æ–º, —á—Ç–æ –∑–Ω–∞—á–∏—Ç –±—ã—Ç—å —Å—ã–Ω–æ–º –≥–µ—Ä–æ—è.
"""
                elif person == "–∂–µ–Ω–∏—Ö–∏":
                    self.telemachos_growth += 8
                    return """
–ñ–µ–Ω–∏—Ö–∏ –Ω–∞—Å–º–µ—Ö–∞—é—Ç—Å—è –Ω–∞–¥ —Ç–æ–±–æ–π, –∫–æ–≥–¥–∞ —Ç—ã –ø—Ä–æ—Ö–æ–¥–∏—à—å –º–∏–º–æ.

–ê–Ω—Ç–∏–Ω–æ–π: "–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, —Å—ã–Ω –û–¥–∏—Å—Å–µ—è –¥—É–º–∞–µ—Ç, —á—Ç–æ –æ–Ω —Ö–æ–∑—è–∏–Ω –¥–æ–º–∞! –¢–≤–æ–π –æ—Ç–µ—Ü –º–µ—Ä—Ç–≤, –º–∞–ª—å—á–∏–∫. –ü–æ—Ä–∞ —Ç–≤–æ–µ–π –º–∞—Ç–µ—Ä–∏ –≤—ã–±—Ä–∞—Ç—å –Ω–æ–≤–æ–≥–æ –º—É–∂–∞, –∞ —Ç–µ–±–µ ‚Äî –ø—Ä–∏–Ω—è—Ç—å –Ω–æ–≤—É—é —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å."

–¢—ã —Å–¥–µ—Ä–∂–∏–≤–∞–µ—à—å –≥–Ω–µ–≤, –ø–æ–Ω–∏–º–∞—è, —á—Ç–æ –≤—Ä–µ–º—è –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –ø—Ä–æ—Ç–∏–≤–æ—Å—Ç–æ—è–Ω–∏—è –µ—â–µ –Ω–µ –ø—Ä–∏—à–ª–æ. –≠—Ç–æ –∏—Å–ø—ã—Ç–∞–Ω–∏–µ —Ç–≤–æ–µ–≥–æ —Ç–µ—Ä–ø–µ–Ω–∏—è –∏ –º—É–¥—Ä–æ—Å—Ç–∏, –∏ —Ç—ã —á—É–≤—Å—Ç–≤—É–µ—à—å, –∫–∞–∫ —Å –∫–∞–∂–¥—ã–º –¥–Ω–µ–º —Ä–∞—Å—Ç–µ—à—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ.
"""
            
            elif location == "–±–µ—Ä–µ–≥":
                if person == "—Ä—ã–±–∞–∫–∏":
                    self.longing += 5
                    self.telemachos_growth += 3
                    return """
–†—ã–±–∞–∫–∏ —á–∏–Ω—è—Ç —Å–µ—Ç–∏, –≤—Ä–µ–º—è –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ –ø–æ–≥–ª—è–¥—ã–≤–∞—è –Ω–∞ –≥–æ—Ä–∏–∑–æ–Ω—Ç.

–°—Ç–∞—Ä—ã–π —Ä—ã–±–∞–∫: "–ú–æ–π –æ—Ç–µ—Ü —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–ª, —á—Ç–æ —Ç–≤–æ–π –æ—Ç–µ—Ü –±—ã–ª –Ω–µ —Ç–æ–ª—å–∫–æ –≤–µ–ª–∏–∫–∏–º –≤–æ–∏–Ω–æ–º, –Ω–æ –∏ –º—É–¥—Ä—ã–º –ø—Ä–∞–≤–∏—Ç–µ–ª–µ–º. –û–Ω –ø–æ–Ω–∏–º–∞–ª –º–æ—Ä–µ –∏ —É–≤–∞–∂–∞–ª —Ç–µ—Ö, –∫—Ç–æ –∂–∏–≤–µ—Ç –∏–º. –ú–Ω–æ–≥–∏–µ –≥–æ–≤–æ—Ä—è—Ç, —á—Ç–æ –æ–Ω –Ω–µ –≤–µ—Ä–Ω–µ—Ç—Å—è, –Ω–æ –º–æ—Ä–µ —Ö—Ä–∞–Ω–∏—Ç —Å–≤–æ–∏ —Ç–∞–π–Ω—ã."

–≠—Ç–∏ —Å–ª–æ–≤–∞ –¥–∞—é—Ç —Ç–µ–±–µ –Ω–æ–≤—É—é –≥—Ä–∞–Ω—å –ø–æ–Ω–∏–º–∞–Ω–∏—è –æ—Ç—Ü–∞ ‚Äî –Ω–µ —Ç–æ–ª—å–∫–æ –∫–∞–∫ –≥–µ—Ä–æ—è, –Ω–æ –∏ –∫–∞–∫ —á–µ–ª–æ–≤–µ–∫–∞, —É–≤–∞–∂–∞–≤—à–µ–≥–æ –ø—Ä–æ—Å—Ç–æ–π –Ω–∞—Ä–æ–¥.
"""
                elif person == "–º–æ—Ä—è–∫–∏":
                    self.longing += 5
                    self.telemachos_growth += 6
                    return """
–ì—Ä—É–ø–ø–∞ –º–æ—Ä—è–∫–æ–≤, –Ω–µ–¥–∞–≤–Ω–æ –ø—Ä–∏–±—ã–≤—à–∏—Ö –∏–∑ –¥–∞–ª—å–Ω–∏—Ö –∑–µ–º–µ–ª—å, –¥–µ–ª–∏—Ç—Å—è –Ω–æ–≤–æ—Å—Ç—è–º–∏.

–ú–æ—Ä—è–∫: "–í –ü–∏–ª–æ—Å–µ –≥–æ–≤–æ—Ä—è—Ç, —á—Ç–æ –≤–∏–¥–µ–ª–∏ –∫–æ—Ä–∞–±–ª—å, –ø–æ—Ö–æ–∂–∏–π –Ω–∞ –∫–æ—Ä–∞–±–ª—å –û–¥–∏—Å—Å–µ—è, –Ω–æ —ç—Ç–æ –±—ã–ª–æ –¥–∞–≤–Ω–æ. –í –°–ø–∞—Ä—Ç–µ —Ö–æ–¥—è—Ç —Å–ª—É—Ö–∏ –æ —á–µ–ª–æ–≤–µ–∫–µ, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∂–∏–ª –ø–æ—Å–ª–µ –≤—Å—Ç—Ä–µ—á–∏ —Å –∫–∏–∫–ª–æ–ø–æ–º. –ò—Å—Ç–æ—Ä–∏–∏ —Ä–∞–∑–Ω—ã–µ, –Ω–æ –æ–Ω–∏ –¥–∞—é—Ç –Ω–∞–¥–µ–∂–¥—É."

–¢—ã –≤–ø–∏—Ç—ã–≤–∞–µ—à—å –∫–∞–∂–¥—É—é –∏—Å—Ç–æ—Ä–∏—é, –∫–∞–∂–¥—ã–π —Å–ª—É—Ö, –ø—ã—Ç–∞—è—Å—å —Å–æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞—Ä—Ç—É –≤–æ–∑–º–æ–∂–Ω–æ–≥–æ –ø—É—Ç–∏ –æ—Ç—Ü–∞.
"""
            
            elif location == "–æ–ª–∏–≤–∫–æ–≤–∞—è_—Ä–æ—â–∞":
                if person == "–º–µ–Ω—Ç–æ—Ä":
                    self.telemachos_growth += 10
                    return """
–ú–µ–Ω—Ç–æ—Ä, —Å—Ç–∞—Ä—ã–π –¥—Ä—É–≥ —Ç–≤–æ–µ–≥–æ –æ—Ç—Ü–∞ –∏ —Ç–≤–æ–π –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫, –ø—Ä–∏—Å–∞–∂–∏–≤–∞–µ—Ç—Å—è —Ä—è–¥–æ–º —Å —Ç–æ–±–æ–π –ø–æ–¥ –æ–ª–∏–≤–∫–æ–≤—ã–º –¥–µ—Ä–µ–≤–æ–º.

–ú–µ–Ω—Ç–æ—Ä: "–¢–µ–ª–µ–º–∞–∫, –≤—Ä–µ–º—è –¥–µ—Ç—Å—Ç–≤–∞ –ø—Ä–æ—à–ª–æ. –ü–æ—Ä–∞ —Å—Ç–∞—Ç—å –º—É–∂—á–∏–Ω–æ–π –∏ –ø—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ. –í–æ–∑–º–æ–∂–Ω–æ, —Ç–µ–±–µ —Å—Ç–æ–∏—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å—Å—è –Ω–∞ –ø–æ–∏—Å–∫–∏ –≤–µ—Å—Ç–µ–π –æ–± –æ—Ç—Ü–µ. –ü–∏–ª–æ—Å –∏ –°–ø–∞—Ä—Ç–∞ ‚Äî –º–µ—Å—Ç–∞, –≥–¥–µ —Ç–µ–±—è –º–æ–≥—É—Ç –≤—ã—Å–ª—É—à–∞—Ç—å."

–ï–≥–æ —Å–ª–æ–≤–∞ –∑–≤—É—á–∞—Ç –∫–∞–∫ –≤—ã–∑–æ–≤ –∏ –∫–∞–∫ –±–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω–∏–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –¢—ã —á—É–≤—Å—Ç–≤—É–µ—à—å, —á—Ç–æ –ø—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –¥–µ–π—Å—Ç–≤–∏–π, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –æ–∂–∏–¥–∞–Ω–∏—è.
"""
                elif person == "—Å—Ç–∞—Ä–∏–∫–∏":
                    self.telemachos_growth += 5
                    return """
–°—Ç–∞—Ä–µ–π—à–∏–Ω—ã –ò—Ç–∞–∫–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤ —Ç–µ–Ω–∏ –æ–ª–∏–≤–∫–æ–≤—ã—Ö –¥–µ—Ä–µ–≤—å–µ–≤, –æ–±—Å—É–∂–¥–∞—è –¥–µ–ª–∞ –æ—Å—Ç—Ä–æ–≤–∞.

–û–¥–∏–Ω –∏–∑ –Ω–∏—Ö –∑–∞–º–µ—á–∞–µ—Ç —Ç–µ–±—è: "–°—ã–Ω –û–¥–∏—Å—Å–µ—è, –º—ã –ø–æ–º–Ω–∏–º, –∫–∞–∫ —Ç–≤–æ–π –æ—Ç–µ—Ü —Å–∞–∂–∞–ª —ç—Ç–∏ –¥–µ—Ä–µ–≤—å—è. –û–Ω –≥–æ–≤–æ—Ä–∏–ª, —á—Ç–æ –º–æ–∂–µ—Ç –Ω–µ —É–≤–∏–¥–µ—Ç—å –∏—Ö –ø–ª–æ–¥–æ–≤, –Ω–æ –µ–≥–æ —Å—ã–Ω –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–æ–±–µ—Ä–µ—Ç —É—Ä–æ–∂–∞–π. –ú–æ–∂–µ—Ç –±—ã—Ç—å, –ø—Ä–∏—à–ª–æ —Ç–≤–æ–µ –≤—Ä–µ–º—è?"

–≠—Ç–∏ —Å–ª–æ–≤–∞ –Ω–∞–ø–æ–º–∏–Ω–∞—é—Ç –æ —Ü–∏–∫–ª–∏—á–Ω–æ—Å—Ç–∏ –∂–∏–∑–Ω–∏ –∏ –æ —Ç–æ–º, —á—Ç–æ –Ω–∞—Å–ª–µ–¥–∏–µ –æ—Ç—Ü–∞ –∂–∏–≤–µ—Ç –≤ —Ç–µ–±–µ –∏ —Ç–≤–æ–∏—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö.
"""
            
            elif location == "–ø–æ–∫–æ–∏_–º–∞—Ç–µ—Ä–∏":
                if person == "–ø–µ–Ω–µ–ª–æ–ø–∞":
                    self.longing += 10
                    self.telemachos_growth += 7
                    return """
–¢–≤–æ—è –º–∞—Ç—å —Å–∏–¥–∏—Ç —É –æ–∫–Ω–∞, –≥–ª—è–¥—è –Ω–∞ –º–æ—Ä–µ. –ö–æ–≥–¥–∞ —Ç—ã –≤—Ö–æ–¥–∏—à—å, –æ–Ω–∞ –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è, –∏ —Ç—ã –∑–∞–º–µ—á–∞–µ—à—å —Å–ª–µ–∑—ã –≤ –µ—ë –≥–ª–∞–∑–∞—Ö.

–ü–µ–Ω–µ–ª–æ–ø–∞: "–ö–∞–∂–¥—É—é –Ω–æ—á—å —è —Ä–∞—Å–ø—É—Å–∫–∞—é —Ç–æ, —á—Ç–æ —Å–æ—Ç–∫–∞–ª–∞ –¥–Ω–µ–º, –æ–±–µ—â–∞—è –∂–µ–Ω–∏—Ö–∞–º –≤—ã–±—Ä–∞—Ç—å –º—É–∂–∞, –∫–æ–≥–¥–∞ –∑–∞–∫–æ–Ω—á—É –ø–æ–∫—Ä—ã–≤–∞–ª–æ. –ù–æ –∑–Ω–∞–µ—à—å, –≤ —ç—Ç–æ–º –µ—Å—Ç—å –Ω–µ—á—Ç–æ –±–æ–ª—å—à–µ–µ, —á–µ–º –ø—Ä–æ—Å—Ç–æ –æ–±–º–∞–Ω. –≠—Ç–æ –Ω–∞–¥–µ–∂–¥–∞ ‚Äî –Ω–∏—Ç—å, —Å–≤—è–∑—ã–≤–∞—é—â–∞—è –ø—Ä–æ—à–ª–æ–µ –∏ –±—É–¥—É—â–µ–µ."

–¢—ã –ø–æ–Ω–∏–º–∞–µ—à—å –≥–ª—É–±–∏–Ω—É –µ—ë –≤–µ—Ä–Ω–æ—Å—Ç–∏ –∏ —Ç–æ, –∫–∞–∫ —Ç–µ—Ä–ø–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ñ–æ—Ä–º–æ–π –±–æ—Ä—å–±—ã.
"""
                elif person == "—Å–ª—É–∂–∞–Ω–∫–∏":
                    self.telemachos_growth += 4
                    return """
–°–ª—É–∂–∞–Ω–∫–∏ —à–µ–ø—á—É—Ç—Å—è, –∫–æ–≥–¥–∞ —Ç—ã –ø—Ä–æ—Ö–æ–¥–∏—à—å –º–∏–º–æ, –Ω–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –Ω–∏—Ö ‚Äî —Ç–µ, –∫—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏–ª –≤–µ—Ä–Ω–æ—Å—Ç—å –¥–æ–º—É ‚Äî –ø–æ–¥—Ö–æ–¥—è—Ç –∫ —Ç–µ–±–µ.

–°—Ç–∞—Ä–∞—è —Å–ª—É–∂–∞–Ω–∫–∞: "–ú–æ–ª–æ–¥–æ–π –≥–æ—Å–ø–æ–¥–∏–Ω, –Ω–µ –≤—Å–µ –≤ —ç—Ç–æ–º –¥–æ–º–µ –ø—Ä–µ–¥–∞—Ç–µ–ª–∏. –ú–Ω–æ–≥–∏–µ –∏–∑ –Ω–∞—Å –ø–æ–º–Ω—è—Ç –¥–æ–±—Ä–æ—Ç—É —Ç–≤–æ–µ–≥–æ –æ—Ç—Ü–∞ –∏ –≤–µ—Ä—è—Ç –≤ –µ–≥–æ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ. –ë—É–¥—å –æ—Å—Ç–æ—Ä–æ–∂–µ–Ω —Å —Ç–µ–º–∏, –∫—Ç–æ —Å–ª–∏—à–∫–æ–º –ø—Ä–µ–¥–∞–Ω –∂–µ–Ω–∏—Ö–∞–º."

–≠—Ç–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ –≤ –±–æ—Ä—å–±–µ –Ω—É–∂–Ω–æ —Ä–∞–∑–ª–∏—á–∞—Ç—å –¥—Ä—É–∑–µ–π –∏ –≤—Ä–∞–≥–æ–≤, —É—á–∏—Ç —Ç–µ–±—è –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–µ–µ –æ—Ç–Ω–æ—Å–∏—Ç—å—Å—è –∫ –ª—é–¥—è–º –∏ –∏—Ö –º–æ—Ç–∏–≤–∞–º.
"""
            
            elif location == "–∞–≥–æ—Ä–∞":
                if person == "–∂–∏—Ç–µ–ª–∏_–∏—Ç–∞–∫–∏":
                    self.telemachos_growth += 6
                    return """
–û–±—ã—á–Ω—ã–µ –∂–∏—Ç–µ–ª–∏ –ò—Ç–∞–∫–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –Ω–∞ –ø–ª–æ—â–∞–¥–∏, —á—Ç–æ–±—ã –æ–±–º–µ–Ω—è—Ç—å—Å—è –Ω–æ–≤–æ—Å—Ç—è–º–∏ –∏ —Ç–æ–≤–∞—Ä–∞–º–∏.

–ö–æ–≥–¥–∞ —Ç—ã –ø–æ—è–≤–ª—è–µ—à—å—Å—è, –ª—é–¥–∏ –Ω–∞—á–∏–Ω–∞—é—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ç–µ–±—è, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å —É–≤–∞–∂–µ–Ω–∏–µ–º, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å –ª—é–±–æ–ø—ã—Ç—Å—Ç–≤–æ–º.

–ü–æ–∂–∏–ª–∞—è –∂–µ–Ω—â–∏–Ω–∞: "–¢—ã —Ç–∞–∫ –ø–æ—Ö–æ–∂ –Ω–∞ —Å–≤–æ–µ–≥–æ –æ—Ç—Ü–∞, –∫–æ–≥–¥–∞ –æ–Ω –±—ã–ª –º–æ–ª–æ–¥. –£ –Ω–µ–≥–æ –±—ã–ª —Ç–∞–∫–æ–π –∂–µ –≤–∑–≥–ª—è–¥ ‚Äî –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–π, –∏–∑—É—á–∞—é—â–∏–π –º–∏—Ä."

–≠—Ç–∏ —Å–ª–æ–≤–∞ —Ç—Ä–æ–≥–∞—é—Ç —Ç–µ–±—è, —Å–æ–∑–¥–∞–≤–∞—è –Ω–µ–≤–∏–¥–∏–º—É—é —Å–≤—è–∑—å —Å —á–µ–ª–æ–≤–µ–∫–æ–º, –∫–æ—Ç–æ—Ä–æ–≥–æ —Ç—ã –∑–Ω–∞–µ—à—å —Ç–æ–ª—å–∫–æ –ø–æ —Ä–∞—Å—Å–∫–∞–∑–∞–º –¥—Ä—É–≥–∏—Ö.
"""
                elif person == "—Å—Ç–∞—Ä–µ–π—à–∏–Ω—ã":
                    self.telemachos_growth += 8
                    return """
–°–æ–≤–µ—Ç —Å—Ç–∞—Ä–µ–π—à–∏–Ω –ò—Ç–∞–∫–∏ –æ–±—Å—É–∂–¥–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç—Ä–æ–≤–∞. –ö–æ–≥–¥–∞ —Ç—ã –ø—Ä–∏–±–ª–∏–∂–∞–µ—à—å—Å—è, –æ–Ω–∏ –∑–∞–º–æ–ª–∫–∞—é—Ç.

–û–¥–∏–Ω –∏–∑ –Ω–∏—Ö –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ —Ç–µ–±–µ: "–°—ã–Ω –û–¥–∏—Å—Å–µ—è, –º—ã –≤–∏–¥–∏–º, —á—Ç–æ —Ç—ã –≤–∑—Ä–æ—Å–ª–µ–µ—à—å –∏ —Å—Ç–∞–Ω–æ–≤–∏—à—å—Å—è –¥–æ—Å—Ç–æ–π–Ω—ã–º –ø—Ä–µ–µ–º–Ω–∏–∫–æ–º —Å–≤–æ–µ–≥–æ –æ—Ç—Ü–∞. –ù–æ –¥–æ–º —Ç–≤–æ–π –≤ –æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –∏ —Ü–∞—Ä—Å—Ç–≤–æ –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ –ø—Ä–∞–≤–∏—Ç–µ–ª–µ. –ö–∞–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Ç—ã –ø—Ä–∏–º–µ—à—å?"

–≠—Ç–æ –ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤ —Ç–≤–æ–µ–π –∑—Ä–µ–ª–æ—Å—Ç–∏ –∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –ø—Ä–∏–Ω—è—Ç—å –±—Ä–µ–º—è –≤–ª–∞—Å—Ç–∏. –¢—ã —á—É–≤—Å—Ç–≤—É–µ—à—å, –∫–∞–∫ –¥–µ—Ç—Å—Ç–≤–æ –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ –æ—Å—Ç–∞–µ—Ç—Å—è –ø–æ–∑–∞–¥–∏.
"""
        
        return "–†–∞–∑–≥–æ–≤–æ—Ä –∑–∞–∫–æ–Ω—á–µ–Ω."
    
    def take_item(self, item: str) -> str:
        """–ü–æ–¥–æ–±—Ä–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç"""
        item = item.lower()
        
        if self.character == "odysseus":
            location = self.odysseus_current_location
            
            # –ü—Ä–µ–¥–º–µ—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤ –∫–∞–∂–¥–æ–π –ª–æ–∫–∞—Ü–∏–∏
            available_items = {
                "–º–æ—Ä–µ": ["–æ–±–ª–æ–º–∫–∏ –∫–æ—Ä–∞–±–ª—è", "–≤–µ—Ä–µ–≤–∫–∞"],
                "–æ—Å—Ç—Ä–æ–≤_–∫–∏—Ä–∫–∏": ["—Å—Ç—Ä–∞–Ω–Ω—ã–µ —Ç—Ä–∞–≤—ã", "–∫—É–±–æ–∫ —Å –≤–∏–Ω–æ–º"],
                "—Ü–∞—Ä—Å—Ç–≤–æ_–∞–∏–¥–∞": ["—Ç–µ–Ω–∏ —É–º–µ—Ä—à–∏—Ö", "—á–∞—à–∞ –¥–ª—è –∂–µ—Ä—Ç–≤–æ–ø—Ä–∏–Ω–æ—à–µ–Ω–∏–π"],
                "–æ—Å—Ç—Ä–æ–≤_—Å–∏—Ä–µ–Ω": ["–≤–æ—Å–∫ –¥–ª—è —É—à–µ–π", "–æ–±—Ä—ã–≤–∫–∏ –∫–∞—Ä—Ç"],
                "–º–µ–∂–¥—É_—Å—Ü–∏–ª–ª–æ–π_–∏_—Ö–∞—Ä–∏–±–¥–æ–π": ["–ø–ª–∞–≤–∞—é—â–∏–µ –æ–±–ª–æ–º–∫–∏ –∫–æ—Ä–∞–±–ª–µ–π", "–≤–µ—Å–ª–æ"],
                "–æ—Å—Ç—Ä–æ–≤_–∫–∞–ª–∏–ø—Å–æ": ["—Ü–≤–µ—Ç—É—â–∏–µ –¥–µ—Ä–µ–≤—å—è", "–ø–ª–æ—Ç–Ω–∏—Ü–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã"]
            }
            
            if item not in available_items.get(location, []):
                return f"–ó–¥–µ—Å—å –Ω–µ—Ç –ø—Ä–µ–¥–º–µ—Ç–∞ '{item}'."
            
            if item in self.odysseus_items:
                return f"–£ —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å '{item}'."
            
            self.odysseus_items.append(item)
            return f"–¢—ã –≤–∑—è–ª: {item}."
        
        else:  # –¢–µ–ª–µ–º–∞–∫
            location = self.telemachos_current_location
            
            # –ü—Ä–µ–¥–º–µ—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤ –∫–∞–∂–¥–æ–π –ª–æ–∫–∞—Ü–∏–∏
            available_items = {
                "–¥–≤–æ—Ä–µ—Ü": ["–æ—Ç—Ü–æ–≤—Å–∫–∏–π –ª—É–∫", "—â–∏—Ç —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –∫–æ—Ä–∞–±–ª—è"],
                "–±–µ—Ä–µ–≥": ["—Å—Ç–∞—Ä–∞—è –ª–æ–¥–∫–∞", "—Ä–∞–∫—É—à–∫–∏, –ø—Ä–∏–Ω–µ—Å–µ–Ω–Ω—ã–µ –≤–æ–ª–Ω–∞–º–∏"],
                "–æ–ª–∏–≤–∫–æ–≤–∞—è_—Ä–æ—â–∞": ["—Å—Ç–∞—Ä–æ–µ –¥–µ—Ä–µ–≤–æ —Å –º–µ—Ç–∫–æ–π", "–º–∞–ª–µ–Ω—å–∫–∏–π –Ω–æ–∂"],
                "–ø–æ–∫–æ–∏_–º–∞—Ç–µ—Ä–∏": ["—Ç–∫–∞—Ü–∫–∏–π —Å—Ç–∞–Ω–æ–∫", "—à–∫–∞—Ç—É–ª–∫–∞ —Å –ø–∞–º—è—Ç–Ω—ã–º–∏ –≤–µ—â–∞–º–∏"],
                "–∞–≥–æ—Ä–∞": ["—Å–≤–∏—Ç–∫–∏ —Å –Ω–æ–≤–æ—Å—Ç—è–º–∏", "—Å—Ç–∞—Ç—É—è –∞—Ñ–∏–Ω—ã"]
            }
            
            if item not in available_items.get(location, []):
                return f"–ó–¥–µ—Å—å –Ω–µ—Ç –ø—Ä–µ–¥–º–µ—Ç–∞ '{item}'."
            
            if item in self.telemachos_items:
                return f"–£ —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å '{item}'."
            
            self.telemachos_items.append(item)
            return f"–¢—ã –≤–∑—è–ª: {item}."
    
    def use_item(self, item: str) -> str:
        """–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç"""
        item = item.lower()
        
        if self.character == "odysseus":
            if item not in self.odysseus_items:
                return f"–£ —Ç–µ–±—è –Ω–µ—Ç –ø—Ä–µ–¥–º–µ—Ç–∞ '{item}'."
            
            # –≠—Ñ—Ñ–µ–∫—Ç—ã –æ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –û–¥–∏—Å—Å–µ–µ–º
            if item == "–æ–±–ª–æ–º–∫–∏ –∫–æ—Ä–∞–±–ª—è":
                self.wisdom_learned += 5
                return "–¢—ã –∏–∑—É—á–∞–µ—à—å –æ–±–ª–æ–º–∫–∏ –∫–æ—Ä–∞–±–ª—è, –≤—Å–ø–æ–º–∏–Ω–∞—è –ø—É—Ç—å, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–≤–µ–ª —Ç–µ–±—è —Å—é–¥–∞, –∏ –¥—É–º–∞—è –æ –ø—É—Ç–∏, –∫–æ—Ç–æ—Ä—ã–π –µ—â–µ –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç. –≠—Ç–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ —Ö—Ä—É–ø–∫–æ—Å—Ç–∏ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏—Ö —Ç–≤–æ—Ä–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –ª–∏—Ü–æ–º —Å—Ç–∏—Ö–∏–∏."
            
            elif item == "–≤–µ—Ä–µ–≤–∫–∞":
                self.odysseus_progress += 5
                return "–¢—ã –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –≤–µ—Ä–µ–≤–∫—É, —á—Ç–æ–±—ã –∑–∞–∫—Ä–µ–ø–∏—Ç—å —á–∞—Å—Ç–∏ –ø–ª–æ—Ç–∞. –ö–∞–∂–¥—ã–π —É–∑–µ–ª ‚Äî —à–∞–≥ –∫ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—é –¥–æ–º–æ–π."
            
            elif item == "—Å—Ç—Ä–∞–Ω–Ω—ã–µ —Ç—Ä–∞–≤—ã":
                self.wisdom_learned += 8
                return "–ò–∑—É—á–∞—è —Ç—Ä–∞–≤—ã –ö–∏—Ä–∫–∏, —Ç—ã –ø–æ–Ω–∏–º–∞–µ—à—å, –∫–∞–∫ —Ç–æ–Ω–∫–∞ –≥—Ä–∞–Ω—å –º–µ–∂–¥—É —è–¥–æ–º –∏ –ª–µ–∫–∞—Ä—Å—Ç–≤–æ–º, –º–µ–∂–¥—É —Ç–µ–º, —á—Ç–æ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –≤ –∂–∏–≤–æ—Ç–Ω–æ–µ, –∏ —Ç–µ–º, —á—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π –æ–±–ª–∏–∫."
            
            elif item == "–∫—É–±–æ–∫ —Å –≤–∏–Ω–æ–º":
                self.wisdom_learned += 3
                return "–¢—ã –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ –ø—Ä–æ–±—É–µ—à—å –≤–∏–Ω–æ, –ø–æ–º–Ω—è –æ –∫–æ–≤–∞—Ä—Å—Ç–≤–µ –ö–∏—Ä–∫–∏. –í –µ–≥–æ –≤–∫—É—Å–µ —Ç—ã —Ä–∞–∑–ª–∏—á–∞–µ—à—å –Ω–æ—Ç—ã –∑–∞–±–≤–µ–Ω–∏—è –∏ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π ‚Äî –≤—ã–±–æ—Ä –º–µ–∂–¥—É —Ç–µ–º, —á—Ç–æ –ø–æ–º–Ω–∏—Ç—å, –∏ —Ç–µ–º, —á—Ç–æ –∑–∞–±—ã—Ç—å."
            
            elif item == "—á–∞—à–∞ –¥–ª—è –∂–µ—Ä—Ç–≤–æ–ø—Ä–∏–Ω–æ—à–µ–Ω–∏–π":
                self.wisdom_learned += 10
                self.longing += 10
                return "–¢—ã —Å–æ–≤–µ—Ä—à–∞–µ—à—å –≤–æ–∑–ª–∏—è–Ω–∏–µ —Ç–µ–Ω—è–º–∏ –º–µ—Ä—Ç–≤—ã—Ö, –∏ –æ–Ω–∏ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—é—Ç —Ç–µ–±–µ –æ –¥–æ–º–µ, –æ —Å—É–¥—å–±–∞—Ö —Ç–µ—Ö, –∫—Ç–æ —É—à–µ–ª, –ø–æ–∫–∞ —Ç—ã —Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ–≤–∞–ª. –≠—Ç–∏ –∏—Å—Ç–æ—Ä–∏–∏ –Ω–∞–ø–æ–ª–Ω—è—é—Ç —Ç–µ–±—è –º—É–¥—Ä–æ—Å—Ç—å—é –∏ —Ç–æ—Å–∫–æ–π."
            
            elif item == "–≤–æ—Å–∫ –¥–ª—è —É—à–µ–π":
                self.odysseus_progress += 8
                return "–¢—ã —Ä–∞–∑–¥–∞–µ—à—å –≤–æ—Å–∫ –∫–æ–º–∞–Ω–¥–µ, —á—Ç–æ–±—ã –æ–Ω–∏ –Ω–µ —Å–ª—ã—à–∞–ª–∏ –ø–µ–Ω–∏—è —Å–∏—Ä–µ–Ω. –°–µ–±—è –∂–µ —Ç—ã –ø—Ä–∏–∫–∞–∑—ã–≤–∞–µ—à—å –ø—Ä–∏–≤—è–∑–∞—Ç—å –∫ –º–∞—á—Ç–µ ‚Äî —á—Ç–æ–±—ã —Å–ª—ã—à–∞—Ç—å, –Ω–æ –Ω–µ –ø–æ–¥–¥–∞—Ç—å—Å—è –∏—Å–∫—É—à–µ–Ω–∏—é. –í —ç—Ç–æ–º —Ä–µ—à–µ–Ω–∏–∏ ‚Äî –º—É–¥—Ä–æ—Å—Ç—å –ø–æ–Ω–∏–º–∞–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–ª–∞–±–æ—Å—Ç–µ–π."
            
            elif item == "–æ–±—Ä—ã–≤–∫–∏ –∫–∞—Ä—Ç":
                self.odysseus_progress += 10
                return "–ò–∑—É—á–∞—è –∫–∞—Ä—Ç—ã, —Ç—ã –Ω–∞—Ö–æ–¥–∏—à—å –ø—É—Ç—å –º–µ–∂–¥—É –°—Ü–∏–ª–ª–æ–π –∏ –•–∞—Ä–∏–±–¥–æ–π. –≠—Ç–æ –Ω–µ –∏–¥–µ–∞–ª—å–Ω—ã–π –ø—É—Ç—å, –Ω–æ –≤ –º–∏—Ä–µ, –ø–æ–ª–Ω–æ–º —á—É–¥–æ–≤–∏—â, —Å–æ–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π –Ω–µ –±—ã–≤–∞–µ—Ç."
            
            elif item == "–≤–µ—Å–ª–æ":
                self.wisdom_learned += 7
                return "–í–µ—Å–ª–æ –≤ —Ç–≤–æ–∏—Ö —Ä—É–∫–∞—Ö ‚Äî –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∏ –æ—Ä—É–∂–∏–µ, –∏ –ø–æ—Å–æ—Ö —Å—Ç—Ä–∞–Ω–Ω–∏–∫–∞. –¢—ã –≤—Å–ø–æ–º–∏–Ω–∞–µ—à—å –ø—Ä–æ—Ä–æ—á–µ—Å—Ç–≤–æ –¢–∏—Ä–µ—Å–∏—è –æ —á–µ–ª–æ–≤–µ–∫–µ, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–º–µ—Ç –≤–µ—Å–ª–æ –∑–∞ –≤–µ—è–ª–∫—É, –∏ –æ –ø–æ—Å–ª–µ–¥–Ω–µ–º –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–∏, –∫–æ—Ç–æ—Ä–æ–µ —Ç–µ–±–µ –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç."
            
            elif item == "–ø–ª–æ—Ç–Ω–∏—Ü–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã":
                self.odysseus_progress += 15
                return "–¢—ã —Å—Ç—Ä–æ–∏—à—å –ø–ª–æ—Ç, –∫–∞–∂–¥—ã–π —É–¥–∞—Ä —Ç–æ–ø–æ—Ä–∞ –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç —Ç–µ–±—è –∫ –¥–æ–º—É. –í —ç—Ç–æ–π –ø—Ä–æ—Å—Ç–æ–π —Ä–∞–±–æ—Ç–µ ‚Äî –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –æ—Ç —á–∞—Ä –ö–∞–ª–∏–ø—Å–æ –∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –∫ —Å–≤–æ–µ–π —Å—É–¥—å–±–µ."
            
            else:
                return f"–¢—ã –Ω–µ –∑–Ω–∞–µ—à—å, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å '{item}'."
        
        else:  # –¢–µ–ª–µ–º–∞–∫
            if item not in self.telemachos_items:
                return f"–£ —Ç–µ–±—è –Ω–µ—Ç –ø—Ä–µ–¥–º–µ—Ç–∞ '{item}'."
            
            # –≠—Ñ—Ñ–µ–∫—Ç—ã –æ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –¢–µ–ª–µ–º–∞–∫–æ–º
            if item == "–æ—Ç—Ü–æ–≤—Å–∫–∏–π –ª—É–∫":
                self.telemachos_growth += 10
                return "–¢—ã –ø—ã—Ç–∞–µ—à—å—Å—è –Ω–∞—Ç—è–Ω—É—Ç—å –ª—É–∫ –æ—Ç—Ü–∞, –Ω–æ –æ–Ω –ø–æ–¥–¥–∞–µ—Ç—Å—è –ª–∏—à—å –Ω–µ–º–Ω–æ–≥–æ. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, —Ç—ã —á—É–≤—Å—Ç–≤—É–µ—à—å, –∫–∞–∫ —Å –∫–∞–∂–¥–æ–π –ø–æ–ø—ã—Ç–∫–æ–π —Å—Ç–∞–Ω–æ–≤–∏—à—å—Å—è —Å–∏–ª—å–Ω–µ–µ ‚Äî –Ω–µ —Ç–æ–ª—å–∫–æ —Ç–µ–ª–æ–º, –Ω–æ –∏ –¥—É—Ö–æ–º."
            
            elif item == "—â–∏—Ç —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –∫–æ—Ä–∞–±–ª—è":
                self.telemachos_growth += 7
                return "–¢—ã —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—à—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —â–∏—Ç–µ ‚Äî –∫–æ—Ä–∞–±–ª—å –≤ –±—É—Ä–Ω–æ–º –º–æ—Ä–µ. –≠—Ç–æ –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç —Ç–µ–±–µ –æ —Ç–æ–º, —á—Ç–æ —Ç–≤–æ–π –æ—Ç–µ—Ü –≤—Å–µ–≥–¥–∞ –Ω–∞—Ö–æ–¥–∏–ª –ø—É—Ç—å —á–µ—Ä–µ–∑ —à—Ç–æ—Ä–º, –∏ —Ç—ã —Ç–æ–∂–µ –Ω–∞–π–¥–µ—à—å —Å–≤–æ–π."
            
            elif item == "—Å—Ç–∞—Ä–∞—è –ª–æ–¥–∫–∞":
                self.telemachos_growth += 12
                return "–¢—ã —Ä–µ—à–∞–µ—à—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–æ–¥–∫—É ‚Äî —ç—Ç–æ –±—É–¥–µ—Ç —Ç–≤–æ–π –∫–æ—Ä–∞–±–ª—å –¥–ª—è –ø–æ–∏—Å–∫–æ–≤ –≤–µ—Å—Ç–µ–π –æ–± –æ—Ç—Ü–µ. –†–∞–±–æ—Ç–∞—è –Ω–∞–¥ –Ω–µ–π, —Ç—ã —á—É–≤—Å—Ç–≤—É–µ—à—å, –∫–∞–∫ –∫–∞–∂–¥—ã–π –≥–≤–æ–∑–¥—å, –∫–∞–∂–¥–∞—è –¥–æ—Å–∫–∞ –ø—Ä–∏–±–ª–∏–∂–∞—é—Ç —Ç–µ–±—è –∫ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏."
            
            elif item == "—Ä–∞–∫—É—à–∫–∏, –ø—Ä–∏–Ω–µ—Å–µ–Ω–Ω—ã–µ –≤–æ–ª–Ω–∞–º–∏":
                self.longing += 8
                return "–¢—ã —Å–æ–±–∏—Ä–∞–µ—à—å —Ä–∞–∫—É—à–∫–∏, –¥—É–º–∞—è –æ —Ç–æ–º, —á—Ç–æ –æ–Ω–∏ –º–æ–≥–ª–∏ –ø—É—Ç–µ—à–µ—Å—Ç–≤–æ–≤–∞—Ç—å –ø–æ —Ç–µ–º –∂–µ –º–æ—Ä—è–º, —á—Ç–æ –∏ —Ç–≤–æ–π –æ—Ç–µ—Ü. –í –∏—Ö —à—É–º–µ —Ç—ã —Å–ª—ã—à–∏—à—å –æ—Ç–≥–æ–ª–æ—Å–∫–∏ –¥–∞–ª—å–Ω–∏—Ö –±–µ—Ä–µ–≥–æ–≤ –∏ –Ω–µ–∏–∑–≤–µ–¥–∞–Ω–Ω—ã—Ö –ø—É—Ç–µ–π."
            
            elif item == "–º–∞–ª–µ–Ω—å–∫–∏–π –Ω–æ–∂":
                self.telemachos_growth += 5
                return "–¢—ã –≤—ã—Ä–µ–∑–∞–µ—à—å –Ω–∞ –¥–µ—Ä–µ–≤–µ —Å–≤–æ–µ –∏–º—è —Ä—è–¥–æ–º —Å –º–µ—Ç–∫–æ–π, –æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π –æ—Ç—Ü–æ–º. –≠—Ç–æ —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏–π –∞–∫—Ç ‚Äî –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –ª–∏–Ω–∏–∏, —Å–≤—è–∑—å –º–µ–∂–¥—É –ø—Ä–æ—à–ª—ã–º –∏ –±—É–¥—É—â–∏–º."
            
            elif item == "—à–∫–∞—Ç—É–ª–∫–∞ —Å –ø–∞–º—è—Ç–Ω—ã–º–∏ –≤–µ—â–∞–º–∏":
                self.longing += 15
                self.telemachos_growth += 8
                return "–í —à–∫–∞—Ç—É–ª–∫–µ —Ç—ã –Ω–∞—Ö–æ–¥–∏—à—å –¥–µ—Ç—Å–∫–∏–µ –∏–≥—Ä—É—à–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–¥–µ–ª–∞–ª –¥–ª—è —Ç–µ–±—è –æ—Ç–µ—Ü, –ø—Ä—è–¥—å –µ–≥–æ –≤–æ–ª–æ—Å, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é –º–∞—Ç–µ—Ä—å—é, –∏ –¥—Ä—É–≥–∏–µ —Å–æ–∫—Ä–æ–≤–∏—â–∞ –ø–∞–º—è—Ç–∏. –û–Ω–∏ —É—Å–∏–ª–∏–≤–∞—é—Ç —Ç–≤–æ—é —Ç–æ—Å–∫—É, –Ω–æ –∏ –ø—Ä–∏–¥–∞—é—Ç —Ä–µ—à–∏–º–æ—Å—Ç–∏."
            
            elif item == "—Å–≤–∏—Ç–∫–∏ —Å –Ω–æ–≤–æ—Å—Ç—è–º–∏":
                self.telemachos_growth += 9
                return "–ß–∏—Ç–∞—è —Å–≤–∏—Ç–∫–∏, —Ç—ã —É–∑–Ω–∞–µ—à—å –æ —Å–æ–±—ã—Ç–∏—è—Ö –≤ –º–∏—Ä–µ –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –ò—Ç–∞–∫–∏. –°—Ä–µ–¥–∏ —Ä–∞—Å—Å–∫–∞–∑–æ–≤ –æ –≤–æ–π–Ω–∞—Ö –∏ —Å–æ—é–∑–∞—Ö —Ç—ã –∏—â–µ—à—å –ª—é–±–æ–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ–± –û–¥–∏—Å—Å–µ–µ, –ª—é–±—É—é –Ω–∏—Ç—å, –≤–µ–¥—É—â—É—é –∫ –æ—Ç—Ü—É."
            
            else:
                return f"–¢—ã –Ω–µ –∑–Ω–∞–µ—à—å, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å '{item}'."
    
    def think(self) -> str:
        """–†–∞–∑–º—ã—à–ª—è—Ç—å –æ –∂–∏–∑–Ω–∏ –∏ —Å—É–¥—å–±–µ"""
        if self.character == "odysseus":
            self.wisdom_learned += 3
            
            thoughts = [
                "–¢—ã —Å–º–æ—Ç—Ä–∏—à—å –Ω–∞ –∑–≤–µ–∑–¥—ã, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –Ω–∞–ø—Ä–∞–≤–ª—è–µ—à—å –∫–æ—Ä–∞–±–ª—å, –∏ –¥—É–º–∞–µ—à—å –æ –∑–≤–µ–∑–¥–∞—Ö –Ω–∞–¥ –ò—Ç–∞–∫–æ–π. –í–∏–¥–∏—Ç –ª–∏ –∏—Ö —Å–µ–π—á–∞—Å –ü–µ–Ω–µ–ª–æ–ø–∞? –£–∑–Ω–∞–µ—Ç –ª–∏ –¢–µ–ª–µ–º–∞–∫ –æ—Ç—Ü–∞, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ –≤–∏–¥–µ–ª —Å—Ç–æ–ª—å–∫–æ –ª–µ—Ç?",
                
                "–ß—Ç–æ –∑–Ω–∞—á–∏—Ç –≤–µ—Ä–Ω—É—Ç—å—Å—è –¥–æ–º–æ–π? –ï—Å–ª–∏ –¥–æ–º –∏–∑–º–µ–Ω–∏–ª—Å—è –∏ —Ç—ã –∏–∑–º–µ–Ω–∏–ª—Å—è, –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –ª–∏ –æ–Ω –¥–æ–º–æ–º? –í —ç—Ç–∏—Ö –º—ã—Å–ª—è—Ö ‚Äî —Å—É—Ç—å —Ç–≤–æ–µ–≥–æ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è.",
                
                "–¢—ã –≤—Å–ø–æ–º–∏–Ω–∞–µ—à—å —Å–ª–æ–≤–∞, —Å–∫–∞–∑–∞–Ω–Ω—ã–µ —Ç–æ–±–æ–π –ü–µ–Ω–µ–ª–æ–ø–µ –ø–µ—Ä–µ–¥ –æ—Ç–ø–ª—ã—Ç–∏–µ–º: '–ñ–¥–∏ –º–µ–Ω—è, –Ω–æ –Ω–µ –≤—Å—é –∂–∏–∑–Ω—å'. –¢–æ–≥–¥–∞ –æ–Ω–∏ –∫–∞–∑–∞–ª–∏—Å—å –º—É–¥—Ä—ã–º–∏. –¢–µ–ø–µ—Ä—å —Ç—ã –Ω–µ —É–≤–µ—Ä–µ–Ω.",
                
                "–ú–æ–∂–µ—Ç –ª–∏ —á–µ–ª–æ–≤–µ–∫ –ø—Ä–æ—Ç–∏–≤–æ—Å—Ç–æ—è—Ç—å —Å—É–¥—å–±–µ? –ò–ª–∏ –≤—Å–µ —Ç–≤–æ–∏ —Ä–µ—à–µ–Ω–∏—è, –≤—Å–µ –ø–æ–≤–æ—Ä–æ—Ç—ã –ø—É—Ç–∏ –±—ã–ª–∏ –ø—Ä–µ–¥–Ω–∞—á–µ—Ä—Ç–∞–Ω—ã –±–æ–≥–∞–º–∏? –í —ç—Ç–æ–º –ø–∞—Ä–∞–¥–æ–∫—Å–µ ‚Äî —Ç–≤–æ—è —Å–≤–æ–±–æ–¥–∞ –∏ —Ç–≤–æ—è —Ç—é—Ä—å–º–∞.",
                
                "–û–¥–∏—Å—Å–µ–π ‚Äî –∏–º—è, —Å—Ç–∞–≤—à–µ–µ –ª–µ–≥–µ–Ω–¥–æ–π –µ—â–µ –ø—Ä–∏ –∂–∏–∑–Ω–∏. –ù–æ –∫—Ç–æ —Ç—ã –±–µ–∑ —ç—Ç–æ–≥–æ –∏–º–µ–Ω–∏? –ü—Ä–æ—Å—Ç–æ —á–µ–ª–æ–≤–µ–∫, —Å—Ç—Ä–µ–º—è—â–∏–π—Å—è –¥–æ–º–æ–π. –í —ç—Ç–æ–π –ø—Ä–æ—Å—Ç–æ—Ç–µ ‚Äî –∏—Å—Ç–∏–Ω–∞."
            ]
            
            return random.choice(thoughts)
        
        else:  # –¢–µ–ª–µ–º–∞–∫
            self.telemachos_growth += 3
            
            thoughts = [
                "–ö–∞–∫ —É–∑–Ω–∞—Ç—å —á–µ–ª–æ–≤–µ–∫–∞, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–∏–¥–µ–ª? –ï—Å–ª–∏ –æ—Ç–µ—Ü –≤–µ—Ä–Ω–µ—Ç—Å—è, –∫–∞–∫ —Ç—ã –ø–æ–π–º–µ—à—å, —á—Ç–æ —ç—Ç–æ –æ–Ω? –ü–æ –∫—Ä–æ–≤–∏, –ø–æ –∏—Å—Ç–æ—Ä–∏—è–º, –ø–æ —á—É–≤—Å—Ç–≤—É —Ä–æ–¥—Å—Ç–≤–∞, –∫–æ—Ç–æ—Ä–æ–µ —Å–∏–ª—å–Ω–µ–µ –≤—Ä–µ–º–µ–Ω–∏?",
                
                "–ß—Ç–æ –∑–Ω–∞—á–∏—Ç –±—ã—Ç—å —Å—ã–Ω–æ–º –≥–µ—Ä–æ—è? –ü—Ä–æ–¥–æ–ª–∂–∞—Ç—å –µ–≥–æ –ø—É—Ç—å –∏–ª–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π? –í —ç—Ç–æ–º –≤–æ–ø—Ä–æ—Å–µ ‚Äî —Ç–≤–æ–µ –≤–∑—Ä–æ—Å–ª–µ–Ω–∏–µ.",
                
                "–¢—ã —Å–º–æ—Ç—Ä–∏—à—å –Ω–∞ —Ä—É–∫–∏ –º–∞—Ç–µ—Ä–∏, –º–æ–∑–æ–ª–∏—Å—Ç—ã–µ –æ—Ç —Ç–∫–∞—Ü–∫–æ–≥–æ —Å—Ç–∞–Ω–∫–∞, –∏ –¥—É–º–∞–µ—à—å –æ —Ç–µ—Ä–ø–µ–Ω–∏–∏ –∫–∞–∫ —Ñ–æ—Ä–º–µ –≥–µ—Ä–æ–∏–∑–º–∞. –ï—Å—Ç—å –ø–æ–¥–≤–∏–≥–∏ –≤ —Ç–∏—à–∏–Ω–µ, –Ω–µ –≤–æ—Å–ø–µ—Ç—ã–µ –±–∞—Ä–¥–∞–º–∏.",
                
                "–ú–æ–∂–µ—Ç –ª–∏ –æ—Å—Ç—Ä–æ–≤ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –±–µ–∑ —Å–≤–æ–µ–≥–æ —Ü–∞—Ä—è? –ú–æ–∂–µ—Ç –ª–∏ —Å—ã–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –±–µ–∑ –æ—Ç—Ü–∞? –í —Ç–≤–æ–µ–º —Å–ª—É—á–∞–µ –æ—Ç–≤–µ—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å '–¥–∞', –∏ –≤ —ç—Ç–æ–º ‚Äî –∏—Å–ø—ã—Ç–∞–Ω–∏–µ.",
                
                "–¢—ã —Å–ª—ã—à–∞–ª –∏—Å—Ç–æ—Ä–∏–∏ –æ–± –û–¥–∏—Å—Å–µ–µ –≤—Å—é –∂–∏–∑–Ω—å, –Ω–æ –Ω–∞—Å–∫–æ–ª—å–∫–æ –æ–Ω–∏ –ø—Ä–∞–≤–¥–∏–≤—ã? –ò –µ—Å–ª–∏ –æ—Ç–µ—Ü –≤–µ—Ä–Ω–µ—Ç—Å—è, –≤—ã–¥–µ—Ä–∂–∏—Ç –ª–∏ –ª–µ–≥–µ–Ω–¥–∞ –≤—Å—Ç—Ä–µ—á—É —Å —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é?"
            ]
            
            return random.choice(thoughts)
    
    def send_message(self, message: str) -> str:
        """–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ—Å–ª–∞–Ω–∏–µ –¥—Ä—É–≥–æ–º—É –ø–µ—Ä—Å–æ–Ω–∞–∂—É"""
        if not message:
            return "–ß—Ç–æ —Ç—ã —Ö–æ—á–µ—à—å –ø–µ—Ä–µ–¥–∞—Ç—å?"
        
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –¥—Ä—É–≥–æ–º—É
        sender = "–û–¥–∏—Å—Å–µ–π" if self.character == "odysseus" else "–¢–µ–ª–µ–º–∞–∫"
        receiver = "–¢–µ–ª–µ–º–∞–∫" if self.character == "odysseus" else "–û–¥–∏—Å—Å–µ–π"
        
        self.messages.append({
            "from": sender,
            "to": receiver,
            "text": message
        })
        
        return f"–¢—ã –æ—Ç–ø—Ä–∞–≤–∏–ª –ø–æ—Å–ª–∞–Ω–∏–µ {receiver}—É: '{message}'"
    
    def view_messages(self) -> str:
        """–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –ø–æ—Å–ª–∞–Ω–∏—è"""
        receiver = "–û–¥–∏—Å—Å–µ–π" if self.character == "odysseus" else "–¢–µ–ª–µ–º–∞–∫"
        
        # –§–∏–ª—å—Ç—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è, –∞–¥—Ä–µ—Å–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–º—É –ø–µ—Ä—Å–æ–Ω–∞–∂—É
        received_messages = [m for m in self.messages if m["to"] == receiver]
        
        if not received_messages:
            return f"–£ —Ç–µ–±—è –Ω–µ—Ç –ø–æ—Å–ª–∞–Ω–∏–π."
        
        result = f"–¢–≤–æ–∏ –ø–æ—Å–ª–∞–Ω–∏—è:\n"
        for i, msg in enumerate(received_messages, 1):
            result += f"{i}. –û—Ç {msg['from']}: '{msg['text']}'\n"
        
        return result
    
    def change_character_to_odysseus(self) -> str:
        """–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –û–¥–∏—Å—Å–µ—è"""
        # –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å, –µ—Å–ª–∏ –¢–µ–ª–µ–º–∞–∫ –ø—Ä–∏–æ–±—Ä–µ–ª –º—É–¥—Ä–æ—Å—Ç—å –∏–ª–∏ –æ–ø—ã—Ç
        if self.telemachos_growth > 50 and self.odysseus_progress < 70:
            self.odysseus_progress += 5
        
        return """
–¢—ã —Å—Ç–∞–Ω–æ–≤–∏—à—å—Å—è –û–¥–∏—Å—Å–µ–µ–º, —Ü–∞—Ä–µ–º –ò—Ç–∞–∫–∏, —Å—Ç—Ä–∞–Ω–Ω–∏–∫–æ–º, –ø—ã—Ç–∞—é—â–∏–º—Å—è –≤–µ—Ä–Ω—É—Ç—å—Å—è –¥–æ–º–æ–π.
–¢–≤–æ–π –ø—É—Ç—å –¥–æ–ª–æ–≥ –∏ –ø–æ–ª–æ–Ω –æ–ø–∞—Å–Ω–æ—Å—Ç–µ–π, –Ω–æ –∫–∞–∂–¥–æ–µ –∏—Å–ø—ã—Ç–∞–Ω–∏–µ –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç —Ç–µ–±—è –∫ –¥–æ–º—É.

–í–≤–µ–¥–∏ '–æ—Å–º–æ—Ç—Ä–µ—Ç—å—Å—è', —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å, –≥–¥–µ —Ç—ã –Ω–∞—Ö–æ–¥–∏—à—å—Å—è, –∏–ª–∏ '–ø–æ–º–æ—â—å' –¥–ª—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥.
"""
    
    def change_character_to_telemachos(self) -> str:
        """–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –¢–µ–ª–µ–º–∞–∫–∞"""
        # –û–±–Ω–æ–≤–ª—è–µ–º —Ä–æ—Å—Ç –¢–µ–ª–µ–º–∞–∫–∞, –µ—Å–ª–∏ –û–¥–∏—Å—Å–µ–π –ø—Ä–æ–¥–≤–∏–Ω—É–ª—Å—è –≤ –ø—É—Ç–∏ –¥–æ–º–æ–π
        if self.odysseus_progress > 50 and self.telemachos_growth < 70:
            self.telemachos_growth += 5
        
        return """
–¢—ã —Å—Ç–∞–Ω–æ–≤–∏—à—å—Å—è –¢–µ–ª–µ–º–∞–∫–æ–º, —Å—ã–Ω–æ–º –û–¥–∏—Å—Å–µ—è, –º–æ–ª–æ–¥—ã–º —á–µ–ª–æ–≤–µ–∫–æ–º, –≤—ã—Ä–æ—Å—à–∏–º –±–µ–∑ –æ—Ç—Ü–∞.
–¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –∑–∞—â–∏—Ç–∏—Ç—å –¥–æ–º –∏ –Ω–∞–π—Ç–∏ —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—É—Ç—å –≤ —Ç–µ–Ω–∏ –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–≥–æ –æ—Ç—Ü–∞.

–í–≤–µ–¥–∏ '–æ—Å–º–æ—Ç—Ä–µ—Ç—å—Å—è', —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å, –≥–¥–µ —Ç—ã –Ω–∞—Ö–æ–¥–∏—à—å—Å—è, –∏–ª–∏ '–ø–æ–º–æ—â—å' –¥–ª—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥.
"""
    
    def show_status(self) -> str:
        """–ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞"""
        if self.character == "odysseus":
            status = f"""
–°—Ç–∞—Ç—É—Å –û–¥–∏—Å—Å–µ—è:
- –¢–µ–∫—É—â–∞—è –ª–æ–∫–∞—Ü–∏—è: {self.odysseus_current_location.replace('_', ' ')}
- –ü—Ä–æ–≥—Ä–µ—Å—Å –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è: {self.odysseus_progress}/100
- –ù–∞–∫–æ–ø–ª–µ–Ω–Ω–∞—è –º—É–¥—Ä–æ—Å—Ç—å: {self.wisdom_learned}/100
- –¢–æ—Å–∫–∞ –ø–æ –¥–æ–º—É: {self.longing}/100
- –ü—Ä–µ–¥–º–µ—Ç—ã: {', '.join(self.odysseus_items) if self.odysseus_items else '–Ω–µ—Ç'}

–ß—Ç–æ–±—ã —Å–º–µ–Ω–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞, –≤–≤–µ–¥–∏ '—Å—Ç–∞—Ç—å —Ç–µ–ª–µ–º–∞–∫–æ–º'
"""
        else:
            status = f"""
–°—Ç–∞—Ç—É—Å –¢–µ–ª–µ–º–∞–∫–∞:
- –¢–µ–∫—É—â–∞—è –ª–æ–∫–∞—Ü–∏—è: {self.telemachos_current_location.replace('_', ' ')}
- –í–∑—Ä–æ—Å–ª–µ–Ω–∏–µ: {self.telemachos_growth}/100
- –¢–æ—Å–∫–∞ –ø–æ –æ—Ç—Ü—É: {self.longing}/100
- –ü—Ä–µ–¥–º–µ—Ç—ã: {', '.join(self.telemachos_items) if self.telemachos_items else '–Ω–µ—Ç'}

–ß—Ç–æ–±—ã —Å–º–µ–Ω–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞, –≤–≤–µ–¥–∏ '—Å—Ç–∞—Ç—å –æ–¥–∏—Å—Å–µ–µ–º'
"""
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ª–æ–≤–∏—è –¥–ª—è –≤–æ—Å—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
        if self.odysseus_progress >= 90 and self.telemachos_growth >= 90:
            status += "\n–¢—ã —á—É–≤—Å—Ç–≤—É–µ—à—å, —á—Ç–æ –≤–æ—Å—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –æ—Ç—Ü–∞ –∏ —Å—ã–Ω–∞ –±–ª–∏–∑–∫–æ..."
        
        return status
    
    def check_special_ending(self) -> bool:
        """–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å–ª–æ–≤–∏–µ –¥–ª—è –æ—Å–æ–±–æ–π –∫–æ–Ω—Ü–æ–≤–∫–∏"""
        # –ï—Å–ª–∏ –û–¥–∏—Å—Å–µ–π –¥–æ—Å—Ç–∏–≥ –ò—Ç–∞–∫–∏ –∏ –¢–µ–ª–µ–º–∞–∫ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—ã—Ä–æ—Å
        if self.odysseus_progress >= 100 and self.telemachos_growth >= 100:
            self.state = "game_over"
            return True
        return False
    
    def check_time_ending(self) -> bool:
        """–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å–ª–æ–≤–∏–µ –¥–ª—è –∫–æ–Ω—Ü–æ–≤–∫–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏"""
        # –ö–æ–Ω—Ü–æ–≤–∫–∞ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤ —ç—Ç–æ–π –∏–≥—Ä–µ
        return False
    
    def get_special_ending(self) -> str:
        """–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç –æ—Å–æ–±–æ–π –∫–æ–Ω—Ü–æ–≤–∫–∏"""
        return """
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                   –í–û–°–°–û–ï–î–ò–ù–ï–ù–ò–ï                            ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

–û–¥–∏—Å—Å–µ–π, –ø—Ä–µ–æ–¥–æ–ª–µ–≤ –≤—Å–µ –∏—Å–ø—ã—Ç–∞–Ω–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞ –ò—Ç–∞–∫—É –Ω–µ—É–∑–Ω–∞–Ω–Ω—ã–º, 
–≤ –æ–±–ª–∏—á—å–µ –Ω–∏—â–µ–≥–æ. –¢–µ–ª–µ–º–∞–∫, –≤—ã—Ä–æ—Å—à–∏–π –∏ –≤–æ–∑–º—É–∂–∞–≤—à–∏–π, –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ä—è–¥–æ–º —Å –Ω–∏–º.

–í —Ö–∏–∂–∏–Ω–µ —Å–≤–∏–Ω–æ–ø–∞—Å–∞ –ï–≤–º–µ—è –æ—Ç–µ—Ü –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å—ã–Ω—É.

–û–¥–∏—Å—Å–µ–π: "–¢–µ–ª–µ–º–∞–∫, —Å—ã–Ω –º–æ–π. –≠—Ç–æ —è, —Ç–≤–æ–π –æ—Ç–µ—Ü."

–¢–µ–ª–µ–º–∞–∫ —Å–º–æ—Ç—Ä–∏—Ç –≤ –≥–ª–∞–∑–∞ —Å—Ç–∞—Ä–∏–∫–∞ –∏ –≤–∏–¥–∏—Ç –≤ –Ω–∏—Ö –æ–≥–æ–Ω—å, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Å–º–æ–≥–ª–∏ –ø–æ–≥–∞—Å–∏—Ç—å –Ω–∏ –≥–æ–¥—ã, –Ω–∏ –∏—Å–ø—ã—Ç–∞–Ω–∏—è.

–¢–µ–ª–µ–º–∞–∫: "–û—Ç–µ—Ü! –ë–æ–≥–∏ –≤–µ—Ä–Ω—É–ª–∏ —Ç–µ–±—è!"

–û–Ω–∏ –æ–±–Ω–∏–º–∞—é—Ç—Å—è ‚Äî –¥–≤–∞ —Å—Ç—Ä–∞–Ω–Ω–∏–∫–∞, –Ω–∞—à–µ–¥—à–∏–µ –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –ø–æ—Å–ª–µ –¥–æ–ª–≥–æ–π —Ä–∞–∑–ª—É–∫–∏. –í —ç—Ç–æ–º –æ–±—ä—è—Ç–∏–∏ ‚Äî –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –æ–¥–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏ –∏ –Ω–∞—á–∞–ª–æ –¥—Ä—É–≥–æ–π.

–í–º–µ—Å—Ç–µ –æ–Ω–∏ —Å–æ—Å—Ç–∞–≤–ª—è—é—Ç –ø–ª–∞–Ω –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –¥–≤–æ—Ä—Ü–∞ –æ—Ç –∂–µ–Ω–∏—Ö–æ–≤. –ò—Ö —Å–æ—é–∑ ‚Äî –Ω–µ –ø—Ä–æ—Å—Ç–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞, –Ω–æ —Å–∏–º–≤–æ–ª –ø—Ä–µ–µ–º—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

–ö–æ–≥–¥–∞ –û–¥–∏—Å—Å–µ–π –∏ –¢–µ–ª–µ–º–∞–∫, –æ—Ç–µ—Ü –∏ —Å—ã–Ω, —Å—Ç–æ—è—Ç –ø–ª–µ—á–æ–º –∫ –ø–ª–µ—á—É, –∑–∞—â–∏—â–∞—è —Å–≤–æ–π –¥–æ–º, –æ–Ω–∏ –≤–æ–ø–ª–æ—â–∞—é—Ç –∏—Å—Ç–∏–Ω—É, –∫–æ—Ç–æ—Ä—É—é –æ–±–∞ –ø–æ–∑–Ω–∞–ª–∏ –≤ —Å–≤–æ–∏—Ö —Å—Ç—Ä–∞–Ω—Å—Ç–≤–∏—è—Ö: —Ä–æ–¥—Å—Ç–≤–æ ‚Äî —ç—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ –∫—Ä–æ–≤—å, –Ω–æ –∏ –≤—ã–±–æ—Ä, –Ω–µ —Ç–æ–ª—å–∫–æ –Ω–∞—Å–ª–µ–¥–∏–µ, –Ω–æ –∏ —É–∑–Ω–∞–≤–∞–Ω–∏–µ –¥—É—à.

–ü–û–ó–î–†–ê–í–õ–Ø–ï–ú!
–¢—ã –ø—Ä–æ—à–µ–ª –ø—É—Ç—å –û–¥–∏—Å—Å–µ—è –∏ –¢–µ–ª–µ–º–∞–∫–∞ –∏ —Å–æ–µ–¥–∏–Ω–∏–ª –¥–≤–µ —á–∞—Å—Ç–∏ –æ–¥–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏.

–í–≤–µ–¥–∏ /start, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É.
"""