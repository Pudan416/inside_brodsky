import random
import pickle
import os
from pathlib import Path
from games.base_game import BaseGame
from config.settings import settings


class RomanFriendGame(BaseGame):
    """–ò–≥—Ä–∞ '–ü–∏—Å—å–º–∞ —Ä–∏–º—Å–∫–æ–º—É –¥—Ä—É–≥—É' –ø–æ –º–æ—Ç–∏–≤–∞–º —Å—Ç–∏—Ö–æ—Ç–≤–æ—Ä–µ–Ω–∏—è –ë—Ä–æ–¥—Å–∫–æ–≥–æ"""

    name = "–ü–∏—Å—å–º–∞ —Ä–∏–º—Å–∫–æ–º—É –¥—Ä—É–≥—É"
    poem = "–ü–∏—Å—å–º–∞ —Ä–∏–º—Å–∫–æ–º—É –¥—Ä—É–≥—É"
    description = "–ù–∞–ø–∏—à–∏ –ø–∏—Å—å–º–∞ –¥—Ä—É–≥—É –≤ –†–∏–º, –≤—ã–±–∏—Ä–∞—è —Å—Ç—Ä–æ–∫–∏ –ë—Ä–æ–¥—Å–∫–æ–≥–æ, –∏ —Å–æ–∑–¥–∞–π —Å–≤–æ—é —Å—É–¥—å–±—É –≤ –∏–∑–≥–Ω–∞–Ω–∏–∏"

    def __init__(self, user_id: int):
        super().__init__(user_id)

        # –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–≥—Ä—ã
        self.wisdom = 0  # –ú—É–¥—Ä–æ—Å—Ç—å (-100 –¥–æ 100)
        self.rome_reputation = 0  # –†–µ–ø—É—Ç–∞—Ü–∏—è –≤ –†–∏–º–µ (-100 –¥–æ 100)
        self.balance = 0  # –î—É—à–µ–≤–Ω–æ–µ —Ä–∞–≤–Ω–æ–≤–µ—Å–∏–µ (-100 –¥–æ 100)
        self.creative_force = 0  # –¢–≤–æ—Ä—á–µ—Å–∫–∞—è —Å–∏–ª–∞ (-100 –¥–æ 100)
        self.adaptation = 0  # –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ –ø—Ä–æ–≤–∏–Ω—Ü–∏–∏ (-100 –¥–æ 100)

        # –ò–≥—Ä–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
        self.season = "–≤–µ—Å–Ω–∞"  # –¢–µ–∫—É—â–∏–π —Å–µ–∑–æ–Ω (–≤–µ—Å–Ω–∞, –ª–µ—Ç–æ, –æ—Å–µ–Ω—å, –∑–∏–º–∞)
        self.year = 1  # –ì–æ–¥ –≤ –∏–∑–≥–Ω–∞–Ω–∏–∏
        self.day = 1  # –î–µ–Ω—å –≤ –∏–∑–≥–Ω–∞–Ω–∏–∏
        self.letters_sent = 0  # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø–∏—Å–µ–º
        self.season_letters = 0  # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∏—Å–µ–º –≤ —Ç–µ–∫—É—â–µ–º —Å–µ–∑–æ–Ω–µ

        # –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
        self.state = "normal"  # –°–æ—Å—Ç–æ—è–Ω–∏–µ (normal, special_state, game_over)

        # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ —Å—Ç–∏—Ö–æ—Ç–≤–æ—Ä–µ–Ω–∏—è
        self.init_fragments()

    def init_fragments(self):
        """–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ —Å—Ç–∏—Ö–æ—Ç–≤–æ—Ä–µ–Ω–∏—è '–ü–∏—Å—å–º–∞ —Ä–∏–º—Å–∫–æ–º—É –¥—Ä—É–≥—É'"""
        self.fragments = {
            # –§—Ä–∞–≥–º–µ–Ω—Ç 1
            "fragment_1": {
                "text": "–ù—ã–Ω—á–µ –≤–µ—Ç—Ä–µ–Ω–æ –∏ –≤–æ–ª–Ω—ã —Å –ø–µ—Ä–µ—Ö–ª–µ—Å—Ç–æ–º.\n–°–∫–æ—Ä–æ –æ—Å–µ–Ω—å, –≤—Å–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è –≤ –æ–∫—Ä—É–≥–µ.\n–ù–µ –∑–∞–±—É–¥—å –ø–æ—Å—Ç–∞–≤–∏—Ç—å —Å–µ—Ç–∫—É –Ω–∞ –æ–∫–Ω–µ,\n—á—Ç–æ–± —Ü–∏–∫–∞–¥–∞ –Ω–µ –±—É–¥–∏–ª–∞ –ø–æ –Ω–æ—á–∞–º.",
                "effects": {
                    "wisdom": 10,
                    "balance": 5,
                    "rome_reputation": -5,
                    "adaptation": 5,
                },
                "seasons": {"–æ—Å–µ–Ω—å": {"wisdom": 5}},
            },
            # –§—Ä–∞–≥–º–µ–Ω—Ç 2
            "fragment_2": {
                "text": "–ü–æ—Å—ã–ª–∞—é —Ç–µ–±–µ, –ü–æ—Å—Ç—É–º, —ç—Ç–∏ –∫–Ω–∏–≥–∏.\n–ß—Ç–æ –≤ —Å—Ç–æ–ª–∏—Ü–µ? –ú—è–≥–∫–æ —Å—Ç–µ–ª—é—Ç? –°–ø–∞—Ç—å –Ω–µ –∂–µ—Å—Ç–∫–æ?\n–ö–∞–∫ —Ç–∞–º –¶–µ–∑–∞—Ä—å? –ß–µ–º –æ–Ω –∑–∞–Ω—è—Ç? –í—Å–µ –∏–Ω—Ç—Ä–∏–≥–∏?\n–í—Å–µ –∏–Ω—Ç—Ä–∏–≥–∏, –≤–µ—Ä–æ—è—Ç–Ω–æ, –¥–∞ –æ–±–∂–æ—Ä—Å—Ç–≤–æ.",
                "effects": {"rome_reputation": 5, "balance": -5, "creative_force": 5},
                "seasons": {"–∑–∏–º–∞": {"creative_force": 5}},
            },
            # –§—Ä–∞–≥–º–µ–Ω—Ç 3
            "fragment_3": {
                "text": "–Ø —Å–∏–∂—É –≤ —Å–≤–æ–µ–º —Å–∞–¥—É, –≥–æ—Ä–∏—Ç —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫.\n–ù–∏ –ø–æ–¥—Ä—É–≥–∏, –Ω–∏ –ø—Ä–∏—Å–ª—É–≥–∏, –Ω–∏ –∑–Ω–∞–∫–æ–º—ã—Ö.\n–í–º–µ—Å—Ç–æ —Å–ª–∞–±—ã—Ö –º–∏—Ä–∞ —ç—Ç–æ–≥–æ –∏ —Å–∏–ª—å–Ω—ã—Ö ‚Äî\n–ª–∏—à—å —Å–æ–≥–ª–∞—Å–Ω–æ–µ –≥—É–¥–µ–Ω—å–µ –Ω–∞—Å–µ–∫–æ–º—ã—Ö.",
                "effects": {
                    "adaptation": 10,
                    "creative_force": 10,
                    "rome_reputation": -5,
                    "balance": 5,
                },
                "seasons": {"–ª–µ—Ç–æ": {"creative_force": 5, "adaptation": 5}},
            },
            # –§—Ä–∞–≥–º–µ–Ω—Ç 4
            "fragment_4": {
                "text": "–ó–¥–µ—Å—å –ª–µ–∂–∏—Ç –∫—É–ø–µ—Ü –∏–∑ –ê–∑–∏–∏. –¢–æ–ª–∫–æ–≤—ã–º\n–±—ã–ª –∫—É–ø—Ü–æ–º –æ–Ω ‚Äî –¥–µ–ª–æ–≤–∏—Ç, –Ω–æ –Ω–µ–∑–∞–º–µ—Ç–µ–Ω.\n–£–º–µ—Ä –±—ã—Å—Ç—Ä–æ: –ª–∏—Ö–æ—Ä–∞–¥–∫–∞. –ü–æ —Ç–æ—Ä–≥–æ–≤—ã–º\n–æ–Ω –¥–µ–ª–∞–º —Å—é–¥–∞ –ø—Ä–∏–ø–ª—ã–ª, –∞ –Ω–µ –∑–∞ —ç—Ç–∏–º.",
                "effects": {"wisdom": 15, "balance": -5, "creative_force": 5},
                "seasons": {"–ª–µ—Ç–æ": {"balance": 5}},
            },
            # –§—Ä–∞–≥–º–µ–Ω—Ç 5
            "fragment_5": {
                "text": "–ü—É—Å—Ç—å –∏ –≤–ø—Ä–∞–≤–¥—É, –ü–æ—Å—Ç—É–º, –∫—É—Ä–∏—Ü–∞ –Ω–µ –ø—Ç–∏—Ü–∞,\n–Ω–æ —Å –∫—É—Ä–∏–Ω—ã–º–∏ –º–æ–∑–≥–∞–º–∏ —Ö–≤–∞—Ç–∏—à—å –≥–æ—Ä—è.\n–ï—Å–ª–∏ –≤—ã–ø–∞–ª–æ –≤ –ò–º–ø–µ—Ä–∏–∏ —Ä–æ–¥–∏—Ç—å—Å—è,\n–ª—É—á—à–µ –∂–∏—Ç—å –≤ –≥–ª—É—Ö–æ–π –ø—Ä–æ–≤–∏–Ω—Ü–∏–∏ —É –º–æ—Ä—è.",
                "effects": {"adaptation": 15, "balance": 10, "rome_reputation": -10},
                "seasons": {"–∑–∏–º–∞": {"adaptation": 5}},
            },
            # –§—Ä–∞–≥–º–µ–Ω—Ç 6
            "fragment_6": {
                "text": "–ó–µ–ª–µ–Ω—å –ª–∞–≤—Ä–∞, –¥–æ—Ö–æ–¥—è—â–∞—è –¥–æ –¥—Ä–æ–∂–∏.\n–î–≤–µ—Ä—å —Ä–∞—Å–ø–∞—Ö–Ω—É—Ç–∞—è, –ø—ã–ª—å–Ω–æ–µ –æ–∫–æ–Ω—Ü–µ.\n–°—Ç—É–ª –ø–æ–∫–∏–Ω—É—Ç—ã–π, –æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–µ –ª–æ–∂–µ.\n–¢–∫–∞–Ω—å, –≤–ø–∏—Ç–∞–≤—à–∞—è –ø–æ–ª—É–¥–µ–Ω–Ω–æ–µ —Å–æ–ª–Ω—Ü–µ.",
                "effects": {"wisdom": 10, "balance": 10, "rome_reputation": -5},
                "seasons": {},
            },
            # –§—Ä–∞–≥–º–µ–Ω—Ç 7
            "fragment_7": {
                "text": "–ë—ã–ª –≤ –≥–æ—Ä–∞—Ö. –°–µ–π—á–∞—Å –≤–æ–∂—É—Å—å —Å –±–æ–ª—å—à–∏–º –±—É–∫–µ—Ç–æ–º.\n–†–∞–∑—ã—â—É –±–æ–ª—å—à–æ–π –∫—É–≤—à–∏–Ω, –≤–æ–¥—ã –Ω–∞–ª—å—é –∏–º...\n–ö–∞–∫ —Ç–∞–º –≤ –õ–∏–≤–∏–∏, –º–æ–π –ü–æ—Å—Ç—É–º, ‚Äî –∏–ª–∏ –≥–¥–µ —Ç–∞–º?\n–ù–µ—É–∂–µ–ª–∏ –¥–æ —Å–∏—Ö –ø–æ—Ä –µ—â–µ –≤–æ—é–µ–º?",
                "effects": {"adaptation": 10, "balance": 5, "rome_reputation": 5},
                "seasons": {"–≤–µ—Å–Ω–∞": {"adaptation": 5}},
            },
            # –§—Ä–∞–≥–º–µ–Ω—Ç 8
            "fragment_8": {
                "text": "–ü–æ–º–Ω–∏—à—å, –ü–æ—Å—Ç—É–º, —É –Ω–∞–º–µ—Å—Ç–Ω–∏–∫–∞ —Å–µ—Å—Ç—Ä–∏—Ü–∞?\n–•—É–¥–æ—â–∞–≤–∞—è, –Ω–æ —Å –ø–æ–ª–Ω—ã–º–∏ –Ω–æ–≥–∞–º–∏.\n–¢—ã —Å –Ω–µ–π —Å–ø–∞–ª –µ—â–µ‚Ä¶ –ù–µ–¥–∞–≤–Ω–æ —Å—Ç–∞–ª–∞ –∂—Ä–∏—Ü–∞.\n–ñ—Ä–∏—Ü–∞, –ü–æ—Å—Ç—É–º, –∏ –æ–±—â–∞–µ—Ç—Å—è —Å –±–æ–≥–∞–º–∏.",
                "effects": {"rome_reputation": 5, "adaptation": -5, "balance": -5},
                "seasons": {},
            },
            # –§—Ä–∞–≥–º–µ–Ω—Ç 9
            "fragment_9": {"text": "–ü—Ä–∏–µ–∑–∂–∞–π, –ø–æ–ø—å–µ–º –≤–∏–Ω–∞, –∑–∞–∫—É—Å–∏–º —Ö–ª–µ–±–æ–º.\n–ò–ª–∏ —Å–ª–∏–≤–∞–º–∏. –†–∞—Å—Å–∫–∞–∂–µ—à—å –º–Ω–µ –∏–∑–≤–µ—Å—Ç—å—è.\n–ü–æ—Å—Ç–µ–ª—é —Ç–µ–±–µ –≤ —Å–∞–¥—É –ø–æ–¥ —á–∏—Å—Ç—ã–º –Ω–µ–±–æ–º\n–∏ —Å–∫–∞–∂—É, –∫–∞–∫ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è —Å–æ–∑–≤–µ–∑–¥—å—è.",
                "effects": {
                    "wisdom": 15,
                    "balance": 5,
                    "rome_reputation": -10,
                    "creative_force": 5,
                },
                "seasons": {"–æ—Å–µ–Ω—å": {"wisdom": 5}},
            },
            # –§—Ä–∞–≥–º–µ–Ω—Ç 10
            "fragment_10": {
                "text": "–í–æ—Ç –∏ –ø—Ä–æ–∂–∏–ª–∏ –º—ã –±–æ–ª—å—à–µ –ø–æ–ª–æ–≤–∏–Ω—ã.\n–ö–∞–∫ —Å–∫–∞–∑–∞–ª –º–Ω–µ —Å—Ç–∞—Ä—ã–π —Ä–∞–± –ø–µ—Ä–µ–¥ —Ç–∞–≤–µ—Ä–Ω–æ–π:\n¬´–ú—ã, –æ–≥–ª—è–¥—ã–≤–∞—è—Å—å, –≤–∏–¥–∏–º –ª–∏—à—å —Ä—É–∏–Ω—ã¬ª.\n–í–∑–≥–ª—è–¥, –∫–æ–Ω–µ—á–Ω–æ, –æ—á–µ–Ω—å –≤–∞—Ä–≤–∞—Ä—Å–∫–∏–π, –Ω–æ –≤–µ—Ä–Ω—ã–π.",
                "effects": {"wisdom": 15, "balance": -5, "creative_force": 5},
                "seasons": {"–æ—Å–µ–Ω—å": {"wisdom": 5}},
            },
            # –§—Ä–∞–≥–º–µ–Ω—Ç 11
            "fragment_11": {
                "text": "–°–∫–æ—Ä–æ, –ü–æ—Å—Ç—É–º, –¥—Ä—É–≥ —Ç–≤–æ–π, –ª—é–±—è—â–∏–π —Å–ª–æ–∂–µ–Ω—å–µ,\n–¥–æ–ª–≥ —Å–≤–æ–π –¥–∞–≤–Ω–∏–π –≤—ã—á–∏—Ç–∞–Ω–∏—é –∑–∞–ø–ª–∞—Ç–∏—Ç.\n–ó–∞–±–µ—Ä–∏ –∏–∑-–ø–æ–¥ –ø–æ–¥—É—à–∫–∏ —Å–±–µ—Ä–µ–∂–µ–Ω—å—è,\n—Ç–∞–º –Ω–µ–º–Ω–æ–≥–æ, –Ω–æ –Ω–∞ –ø–æ—Ö–æ—Ä–æ–Ω—ã —Ö–≤–∞—Ç–∏—Ç.",
                "effects": {"adaptation": 10, "creative_force": 10, "balance": 5},
                "seasons": {"–ª–µ—Ç–æ": {"creative_force": 5}},
            },
            # –§—Ä–∞–≥–º–µ–Ω—Ç 12
            "fragment_12": {
                "text": "–ü–æ–Ω—Ç —à—É–º–∏—Ç –∑–∞ —á–µ—Ä–Ω–æ–π –∏–∑–≥–æ—Ä–æ–¥—å—é –ø–∏–Ω–∏–π.\n–ß—å–µ-—Ç–æ —Å—É–¥–Ω–æ —Å –≤–µ—Ç—Ä–æ–º –±–æ—Ä–µ—Ç—Å—è —É –º—ã—Å–∞.\n–ù–∞ —Ä–∞—Å—Å–æ—Ö—à–µ–π—Å—è —Å–∫–∞–º–µ–π–∫–µ ‚Äî –°—Ç–∞—Ä—à–∏–π –ü–ª–∏–Ω–∏–π.\n–î—Ä–æ–∑–¥ —â–µ–±–µ—á–µ—Ç –≤ —à–µ–≤–µ–ª—é—Ä–µ –∫–∏–ø–∞—Ä–∏—Å–∞.",
                "effects": {"adaptation": 15, "balance": 5, "wisdom": 5},
                "seasons": {"–≤–µ—Å–Ω–∞": {"adaptation": 5}},
            },
        }

            # –ü–æ—Ä—è–¥–æ–∫ –ø–æ—è–≤–ª–µ–Ω–∏—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –ø–æ —Å–µ–∑–æ–Ω–∞–º (–Ω–æ–º–µ—Ä–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤)
        self.seasonal_fragments = {
            "–≤–µ—Å–Ω–∞": ["fragment_7", "fragment_12", "fragment_2", "fragment_5"],
            "–ª–µ—Ç–æ": ["fragment_3", "fragment_4", "fragment_11", "fragment_8"],
            "–æ—Å–µ–Ω—å": ["fragment_1", "fragment_10", "fragment_9", "fragment_6"],
            "–∑–∏–º–∞": ["fragment_5", "fragment_2", "fragment_6", "fragment_10"],
        }

    def save_game_state(self) -> str:
        """Create a compact string representation of game state"""
        state_parts = [
            "roman",
            str(self.wisdom),
            str(self.rome_reputation),
            str(self.balance),
            str(self.creative_force),
            str(self.adaptation),
            self.season,
            str(self.year),
            str(self.day),
            str(self.letters_sent),
            str(self.season_letters),
            self.state,
        ]

        return ":".join(state_parts)

    @classmethod
    def load_from_state_string(
        cls, user_id: int, state_string: str
    ) -> "RomanFriendGame":
        """Recreate game state from compact string"""
        game = cls(user_id)

        if not state_string or not state_string.startswith("roman:"):
            return game

        parts = state_string.split(":")
        if len(parts) >= 12:
            game.wisdom = int(parts[1])
            game.rome_reputation = int(parts[2])
            game.balance = int(parts[3])
            game.creative_force = int(parts[4])
            game.adaptation = int(parts[5])
            game.season = parts[6]
            game.year = int(parts[7])
            game.day = int(parts[8])
            game.letters_sent = int(parts[9])
            game.season_letters = int(parts[10])
            game.state = parts[11]

        return game

    def get_help(self) -> str:
        """–ü–æ–ª—É—á–∏—Ç—å —Å–ø—Ä–∞–≤–∫—É –ø–æ –∏–≥—Ä–µ"""
        help_text = """
üìú –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
- –ø–∏—Å—å–º–æ - –Ω–∞–ø–∏—Å–∞—Ç—å –Ω–æ–≤–æ–µ –ø–∏—Å—å–º–æ —Ä–∏–º—Å–∫–æ–º—É –¥—Ä—É–≥—É
- –ø—Ä–æ–≥—Ä–µ—Å—Å - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –ø–æ–º–æ—â—å - –ø–æ–∫–∞–∑–∞—Ç—å —ç—Ç—É —Å–ø—Ä–∞–≤–∫—É

üéÆ –¶–µ–ª—å –∏–≥—Ä—ã: –ù–∞–±–µ—Ä–∏—Ç–µ 100 –≤ –æ–¥–Ω–æ–º –∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–Ω—Ü–æ–≤–∫–∏.
–ë—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã: -100 –≤ –ª—é–±–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–µ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–π –∫–æ–Ω—Ü–æ–≤–∫–µ.

–í—ã–±–∏—Ä–∞–π—Ç–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –¥–ª—è —Å–≤–æ–∏—Ö –ø–∏—Å–µ–º —Å —É–º–æ–º,
—É—á–∏—Ç—ã–≤–∞–π—Ç–µ —Å–µ–∑–æ–Ω—ã –∏ –∏—Ö –≤–ª–∏—è–Ω–∏–µ –Ω–∞ —ç—Ñ—Ñ–µ–∫—Ç—ã.
"""
        return help_text

    def get_intro(self) -> str:
        """–ü–æ–ª—É—á–∏—Ç—å –≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ –∫ –∏–≥—Ä–µ"""
        intro = """
‚ïî=================‚ïó
‚ïë::::::::::–ü–ò–°–¨–ú–ê:::::::::::‚ïë
‚ïë:::–†–ò–ú–°–ö–û–ú–£ –î–†–£–ì–£::‚ïë
‚ïë‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚ïë
‚ïë.....–∏–≥—Ä–∞ –ø–æ –º–æ—Ç–∏–≤–∞–º....‚ïë
‚ïë::::::—Å—Ç–∏—Ö–æ—Ç–≤–æ—Ä–µ–Ω–∏—è::::::‚ïë
‚ïë::::::::::–ë—Ä–æ–¥—Å–∫–æ–≥–æ:::::::::‚ïë
‚ïë‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚ïë
‚ïë:::–∞–≤—Ç–æ—Ä @pudan416::::‚ïë
‚ïö=================‚ïù

"–ù—ã–Ω—á–µ –≤–µ—Ç—Ä–µ–Ω–æ –∏ –≤–æ–ª–Ω—ã —Å –ø–µ—Ä–µ—Ö–ª–µ—Å—Ç–æ–º.
–°–∫–æ—Ä–æ –æ—Å–µ–Ω—å, –≤—Å—ë –∏–∑–º–µ–Ω–∏—Ç—Å—è –≤ –æ–∫—Ä—É–≥–µ..."

–¢—ã ‚Äì –ø–æ—ç—Ç –≤ –∏–∑–≥–Ω–∞–Ω–∏–∏, –∂–∏–≤—É—â–∏–π –≤ –ø—Ä–æ–≤–∏–Ω—Ü–∏–∏ —É –º–æ—Ä—è. 
–¢–≤–æ–π –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–∞–∫—Ç —Å –ø—Ä–µ–∂–Ω–µ–π –∂–∏–∑–Ω—å—é ‚Äì –ø–∏—Å—å–º–∞ –¥—Ä—É–≥—É –ü–æ—Å—Ç—É–º—É –≤ –†–∏–º.

–í —ç—Ç–æ–π –∏–≥—Ä–µ —Ç—ã –±—É–¥–µ—à—å —Å–æ—Å—Ç–∞–≤–ª—è—Ç—å –ø–∏—Å—å–º–∞, –≤—ã–±–∏—Ä–∞—è —Å—Ç—Ä–æ–∫–∏ –∏–∑ —Å—Ç–∏—Ö–æ—Ç–≤–æ—Ä–µ–Ω–∏—è –ë—Ä–æ–¥—Å–∫–æ–≥–æ.
–¢–≤–æ–∏ –≤—ã–±–æ—Ä—ã –ø–æ–≤–ª–∏—è—é—Ç –Ω–∞ –ø—è—Ç—å –∫–ª—é—á–µ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –æ–ø—Ä–µ–¥–µ–ª—è—Ç —Ç–≤–æ—é —Å—É–¥—å–±—É.

–í–≤–µ–¥–∏ '–ø–∏—Å—å–º–æ', —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –ø–∏—Å–∞—Ç—å, –∏–ª–∏ '–ø–æ–º–æ—â—å' –¥–ª—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥.
"""
        return intro

    def process_command(self, command: str) -> str:
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã –∏–≥—Ä–æ–∫–∞"""
        command = command.lower().strip()

        # –ï—Å–ª–∏ –∏–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
        if self.state == "game_over":
            return "–ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –í–≤–µ–¥–∏ /start –¥–ª—è –Ω–∞—á–∞–ª–∞ –Ω–æ–≤–æ–π –∏–≥—Ä—ã."

        # –ï—Å–ª–∏ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–∏—Å—å–º–∞
        if self.state.startswith("letter_"):
            parts = self.state.split("_")
            step = parts[1]

            if step == "selecting":
                # –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤
                try:
                    choices = [c.strip() for c in command.split(",")]
                    if len(choices) != 2:
                        return "–í—ã–±–µ—Ä–∏ —Ä–æ–≤–Ω–æ 2 —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: 1, 3)"

                    # –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ü–∏—Ñ—Ä –≤ –∏–Ω–¥–µ–∫—Å—ã (1=0, 2=1, 3=2, 4=3)
                    indices = []
                    for choice in choices:
                        if choice == "1":
                            indices.append(0)
                        elif choice == "2":
                            indices.append(1)
                        elif choice == "3":
                            indices.append(2)
                        elif choice == "4":
                            indices.append(3)
                        else:
                            return f"–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤—ã–±–æ—Ä: {choice}. –ò—Å–ø–æ–ª—å–∑—É–π —Ü–∏—Ñ—Ä—ã 1, 2, 3 –∏–ª–∏ 4."

                    return self.complete_letter(indices)
                except Exception as e:
                    self.state = "normal"
                    return f"–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑: {str(e)}"

        # –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
        if command == "–ø–∏—Å—å–º–æ" or command == "–Ω–∞–ø–∏—Å–∞—Ç—å –ø–∏—Å—å–º–æ":
            return self.start_letter()
        elif command == "–ø—Ä–æ–≥—Ä–µ—Å—Å" or command == "—Å—Ç–∞—Ç—É—Å":
            return self.show_progress()
        elif command == "–ø–æ–º–æ—â—å":
            return self.get_help()
        else:
            return (
                "–Ø –Ω–µ –ø–æ–Ω–∏–º–∞—é —ç—Ç—É –∫–æ–º–∞–Ω–¥—É. –í–≤–µ–¥–∏ '–ø–æ–º–æ—â—å' –¥–ª—è —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥."
            )

    def start_letter(self) -> str:
        """–ù–∞—á–∞—Ç—å —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–∏—Å—å–º–∞"""
        # –ü—Ä–æ–≤–µ—Ä–∫–∞, –Ω–µ –ø—Ä–µ–≤—ã—à–µ–Ω–æ –ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∏—Å–µ–º –≤ —Å–µ–∑–æ–Ω–µ
        if self.season_letters >= 2:
            # –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–µ–∑–æ–Ω—É
            self.advance_season()
            return f"–°–µ–∑–æ–Ω {self.season} –Ω–∞—á–∞–ª—Å—è. –¢–µ–ø–µ—Ä—å —Ç—ã –º–æ–∂–µ—à—å –Ω–∞–ø–∏—Å–∞—Ç—å –Ω–æ–≤–æ–µ –ø–∏—Å—å–º–æ.\n–í–≤–µ–¥–∏ '–ø–∏—Å—å–º–æ', —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å."

        # –í—ã–±–æ—Ä —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Å–µ–∑–æ–Ω–∞
        available_fragments = self.seasonal_fragments[self.season]

        # –§–æ—Ä–º–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç –¥–ª—è –≤—ã–±–æ—Ä–∞
        message = f"""
=== –ü–ò–°–¨–ú–û –†–ò–ú–°–ö–û–ú–£ –î–†–£–ì–£ ===
–°–µ–∑–æ–Ω: {self.season.capitalize()} ({self.season_letters + 1}-–µ –ø–∏—Å—å–º–æ —Å–µ–∑–æ–Ω–∞)
–ì–æ–¥ –≤ –∏–∑–≥–Ω–∞–Ω–∏–∏: {self.year}, –î–µ–Ω—å: {self.day}

–¢–≤–æ–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
- –ú—É–¥—Ä–æ—Å—Ç—å: {self.wisdom}
- –†–µ–ø—É—Ç–∞—Ü–∏—è –≤ –†–∏–º–µ: {self.rome_reputation}
- –î—É—à–µ–≤–Ω–æ–µ —Ä–∞–≤–Ω–æ–≤–µ—Å–∏–µ: {self.balance}
- –¢–≤–æ—Ä—á–µ—Å–∫–∞—è —Å–∏–ª–∞: {self.creative_force}
- –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ –ø—Ä–æ–≤–∏–Ω—Ü–∏–∏: {self.adaptation}

–í—ã–±–µ—Ä–∏ 2 —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ –¥–ª—è –ø–∏—Å—å–º–∞ –∏–∑ 4 –¥–æ—Å—Ç—É–ø–Ω—ã—Ö (–Ω–∞–ø–∏—à–∏ —Ü–∏—Ñ—Ä—ã —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é, –Ω–∞–ø—Ä–∏–º–µ—Ä: 1, 3):

1. "{self.fragments[available_fragments[0]]['text']}"

2. "{self.fragments[available_fragments[1]]['text']}"

3. "{self.fragments[available_fragments[2]]['text']}"

4. "{self.fragments[available_fragments[3]]['text']}"
"""

        # –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—ã–±–æ—Ä–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤
        self.state = "letter_selecting"

        return message

    def complete_letter(self, indices: list) -> str:
        """–ó–∞–≤–µ—Ä—à–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –ø–∏—Å—å–º–∞ –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç—ã"""
        # –ü–æ–ª—É—á–∞–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Å–µ–∑–æ–Ω–∞
        available_fragments = self.seasonal_fragments[self.season]

        # –í—ã–±—Ä–∞–Ω–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã
        selected_fragments = [available_fragments[i] for i in indices]

        # –°–æ—Å—Ç–∞–≤–ª—è–µ–º –ø–∏—Å—å–º–æ
        letter_text = "–î–æ—Ä–æ–≥–æ–π –ü–æ—Å—Ç—É–º!\n\n"

        # –î–æ–±–∞–≤–ª—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã
        for fragment_id in selected_fragments:
            letter_text += self.fragments[fragment_id]["text"] + "\n\n"

        letter_text += "–¢–≤–æ–π –¥—Ä—É–≥ –≤ –∏–∑–≥–Ω–∞–Ω–∏–∏"

        # –ü—Ä–∏–º–µ–Ω—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç—ã –æ—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤
        effects_text = "–ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:\n"

        for fragment_id in selected_fragments:
            fragment = self.fragments[fragment_id]

            # –ë–∞–∑–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
            for param, value in fragment["effects"].items():
                # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ–∑–æ–Ω–Ω—ã–µ –±–æ–Ω—É—Å—ã
                bonus = 0
                if (
                    self.season in fragment["seasons"]
                    and param in fragment["seasons"][self.season]
                ):
                    bonus = fragment["seasons"][self.season][param]

                # –ü—Ä–∏–º–µ–Ω—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç —Å –±–æ–Ω—É—Å–æ–º
                total_effect = value + bonus

                # –û–±–Ω–æ–≤–ª—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä
                if param == "wisdom":
                    self.wisdom = max(-100, min(100, self.wisdom + total_effect))
                    effects_text += (
                        f"- –ú—É–¥—Ä–æ—Å—Ç—å: {'+' if total_effect > 0 else ''}{total_effect}"
                    )
                    if bonus > 0:
                        effects_text += f" (—Å–µ–∑–æ–Ω–Ω—ã–π –±–æ–Ω—É—Å {self.season}!)"
                    effects_text += f" ‚Üí {self.wisdom}\n"
                elif param == "rome_reputation":
                    self.rome_reputation = max(
                        -100, min(100, self.rome_reputation + total_effect)
                    )
                    effects_text += f"- –†–µ–ø—É—Ç–∞—Ü–∏—è –≤ –†–∏–º–µ: {'+' if total_effect > 0 else ''}{total_effect}"
                    if bonus > 0:
                        effects_text += f" (—Å–µ–∑–æ–Ω–Ω—ã–π –±–æ–Ω—É—Å {self.season}!)"
                    effects_text += f" ‚Üí {self.rome_reputation}\n"
                elif param == "balance":
                    self.balance = max(-100, min(100, self.balance + total_effect))
                    effects_text += f"- –î—É—à–µ–≤–Ω–æ–µ —Ä–∞–≤–Ω–æ–≤–µ—Å–∏–µ: {'+' if total_effect > 0 else ''}{total_effect}"
                    if bonus > 0:
                        effects_text += f" (—Å–µ–∑–æ–Ω–Ω—ã–π –±–æ–Ω—É—Å {self.season}!)"
                    effects_text += f" ‚Üí {self.balance}\n"
                elif param == "creative_force":
                    self.creative_force = max(
                        -100, min(100, self.creative_force + total_effect)
                    )
                    effects_text += f"- –¢–≤–æ—Ä—á–µ—Å–∫–∞—è —Å–∏–ª–∞: {'+' if total_effect > 0 else ''}{total_effect}"
                    if bonus > 0:
                        effects_text += f" (—Å–µ–∑–æ–Ω–Ω—ã–π –±–æ–Ω—É—Å {self.season}!)"
                    effects_text += f" ‚Üí {self.creative_force}\n"
                elif param == "adaptation":
                    self.adaptation = max(
                        -100, min(100, self.adaptation + total_effect)
                    )
                    effects_text += f"- –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ –ø—Ä–æ–≤–∏–Ω—Ü–∏–∏: {'+' if total_effect > 0 else ''}{total_effect}"
                    if bonus > 0:
                        effects_text += f" (—Å–µ–∑–æ–Ω–Ω—ã–π –±–æ–Ω—É—Å {self.season}!)"
                    effects_text += f" ‚Üí {self.adaptation}\n"

        # –û–±–Ω–æ–≤–ª—è–µ–º –∏–≥—Ä–æ–≤—ã–µ —Å—á–µ—Ç—á–∏–∫–∏
        self.letters_sent += 1
        self.season_letters += 1
        self.day += 30  # –ö–∞–∂–¥–æ–µ –ø–∏—Å—å–º–æ –∑–∞–Ω–∏–º–∞–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ –º–µ—Å—è—Ü

        # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é
        self.state = "normal"

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –¥–æ—Å—Ç–∏–≥–ª–∏ –ª–∏ –º—ã –∫–∞–∫–æ–π-–ª–∏–±–æ –∫–æ–Ω—Ü–æ–≤–∫–∏
        if self.check_special_ending() or self.check_time_ending():
            return f"{letter_text}\n\n{effects_text}\n\n{self.get_ending_message()}"

        # –§–æ—Ä–º–∏—Ä—É–µ–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç –æ —Å—Ç–∏—Ö–æ—Ç–≤–æ—Ä–µ–Ω–∏–∏
        facts = [
            "–°—Ç–∏—Ö–æ—Ç–≤–æ—Ä–µ–Ω–∏–µ ¬´–ü–∏—Å—å–º–∞ —Ä–∏–º—Å–∫–æ–º—É –¥—Ä—É–≥—É¬ª –±—ã–ª–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –ë—Ä–æ–¥—Å–∫–∏–º –≤ 1972 –≥–æ–¥—É.",
            "–ü–æ—Å—Ç—É–º, –∞–¥—Ä–µ—Å–∞—Ç –ø–∏—Å–µ–º, —è–≤–ª—è–µ—Ç—Å—è –≤—ã–º—ã—à–ª–µ–Ω–Ω—ã–º –¥—Ä—É–≥–æ–º –ø–æ—ç—Ç–∞ –≤ –î—Ä–µ–≤–Ω–µ–º –†–∏–º–µ.",
            "–í —Å—Ç–∏—Ö–æ—Ç–≤–æ—Ä–µ–Ω–∏–∏ –ë—Ä–æ–¥—Å–∫–∏–π –ø—Ä–æ–≤–æ–¥–∏—Ç –ø–∞—Ä–∞–ª–ª–µ–ª–∏ –º–µ–∂–¥—É –†–∏–º—Å–∫–æ–π –∏–º–ø–µ—Ä–∏–µ–π –∏ –°–æ–≤–µ—Ç—Å–∫–∏–º –°–æ—é–∑–æ–º.",
            "–¢–µ–º–∞ –∏–∑–≥–Ω–∞–Ω–∏—è –≤ —Å—Ç–∏—Ö–æ—Ç–≤–æ—Ä–µ–Ω–∏–∏ –ø–µ—Ä–µ–∫–ª–∏–∫–∞–µ—Ç—Å—è —Å –ª–∏—á–Ω—ã–º –æ–ø—ã—Ç–æ–º –ë—Ä–æ–¥—Å–∫–æ–≥–æ, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –≤—ã—Å–ª–∞–Ω –∏–∑ –°–°–°–† –≤ 1972 –≥–æ–¥—É.",
            "¬´–ï—Å–ª–∏ –≤—ã–ø–∞–ª–æ –≤ –ò–º–ø–µ—Ä–∏–∏ —Ä–æ–¥–∏—Ç—å—Å—è, –ª—É—á—à–µ –∂–∏—Ç—å –≤ –≥–ª—É—Ö–æ–π –ø—Ä–æ–≤–∏–Ω—Ü–∏–∏ —É –º–æ—Ä—è¬ª ‚Äî –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∞—Ñ–æ—Ä–∏–∑–º–æ–≤ –ë—Ä–æ–¥—Å–∫–æ–≥–æ.",
        ]

        # –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        result = f"{letter_text}\n\n{effects_text}\n\n–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç: {random.choice(facts)}\n\n–ù–∞–ø–∏—à–∏—Ç–µ, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ:\n- –ø–∏—Å—å–º–æ - –Ω–∞–ø–∏—Å–∞—Ç—å –Ω–æ–≤–æ–µ –ø–∏—Å—å–º–æ —Ä–∏–º—Å–∫–æ–º—É –¥—Ä—É–≥—É\n- –ø—Ä–æ–≥—Ä–µ—Å—Å - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã\n- –ø–æ–º–æ—â—å - –ø–æ–∫–∞–∑–∞—Ç—å —ç—Ç—É —Å–ø—Ä–∞–≤–∫—É"

        return result

    def advance_season(self) -> None:
        """–ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–µ–∑–æ–Ω—É"""
        if self.season == "–≤–µ—Å–Ω–∞":
            self.season = "–ª–µ—Ç–æ"
        elif self.season == "–ª–µ—Ç–æ":
            self.season = "–æ—Å–µ–Ω—å"
        elif self.season == "–æ—Å–µ–Ω—å":
            self.season = "–∑–∏–º–∞"
        elif self.season == "–∑–∏–º–∞":
            self.season = "–≤–µ—Å–Ω–∞"
            self.year += 1

        # –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –ø–∏—Å–µ–º –≤ —Å–µ–∑–æ–Ω–µ
        self.season_letters = 0

        # –î–æ–±–∞–≤–ª—è–µ–º –¥–Ω–∏
        self.day += 10  # –ù–µ–±–æ–ª—å—à–æ–π –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ –º–µ–∂–¥—É —Å–µ–∑–æ–Ω–∞–º–∏

    def show_progress(self) -> str:
        """–ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–≥—Ä–æ–∫–∞"""
        progress = f"""
=== –¢–í–û–ô –ü–†–û–ì–†–ï–°–° ===
–ì–æ–¥ –≤ –∏–∑–≥–Ω–∞–Ω–∏–∏: {self.year}
–°–µ–∑–æ–Ω: {self.season}
–î–µ–Ω—å: {self.day}
–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–∏—Å–µ–º: {self.letters_sent}

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- –ú—É–¥—Ä–æ—Å—Ç—å: {self.wisdom} / 100
- –†–µ–ø—É—Ç–∞—Ü–∏—è –≤ –†–∏–º–µ: {self.rome_reputation} / 100
- –î—É—à–µ–≤–Ω–æ–µ —Ä–∞–≤–Ω–æ–≤–µ—Å–∏–µ: {self.balance} / 100
- –¢–≤–æ—Ä—á–µ—Å–∫–∞—è —Å–∏–ª–∞: {self.creative_force} / 100
- –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ –ø—Ä–æ–≤–∏–Ω—Ü–∏–∏: {self.adaptation} / 100

"""

        # –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–¥—Å–∫–∞–∑–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–µ–∫—É—â–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
        if (
            max(
                abs(self.wisdom),
                abs(self.rome_reputation),
                abs(self.balance),
                abs(self.creative_force),
                abs(self.adaptation),
            )
            >= 75
        ):
            progress += "–¢—ã –ø—Ä–∏–±–ª–∏–∂–∞–µ—à—å—Å—è –∫ –æ–¥–Ω–æ–π –∏–∑ –∫–æ–Ω—Ü–æ–≤–æ–∫.\n"

        if self.season_letters >= 2:
            progress += "–¢—ã –Ω–∞–ø–∏—Å–∞–ª –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∏—Å–µ–º –≤ —ç—Ç–æ–º —Å–µ–∑–æ–Ω–µ. –ù–∞–ø–∏—à–∏ '–ø–∏—Å—å–º–æ', —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –Ω–æ–≤—ã–π —Å–µ–∑–æ–Ω.\n"
        else:
            progress += f"–¢—ã –º–æ–∂–µ—à—å –Ω–∞–ø–∏—Å–∞—Ç—å –µ—â–µ {2 - self.season_letters} –ø–∏—Å—å–º–∞ –≤ —ç—Ç–æ–º —Å–µ–∑–æ–Ω–µ.\n"

        # –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç–∞—Ç—É—Å
        return progress

    def check_special_ending(self) -> bool:
        """–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å–ª–æ–≤–∏–µ –¥–ª—è –æ—Å–æ–±–æ–π –∫–æ–Ω—Ü–æ–≤–∫–∏"""
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –¥–æ—Å—Ç–∏–≥ –ª–∏ –∏–≥—Ä–æ–∫ +100 –≤ –∫–∞–∫–æ–º-–ª–∏–±–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ–Ω—Ü–æ–≤–∫–∞)
        if (
            self.wisdom >= 100
            or self.rome_reputation >= 100
            or self.balance >= 100
            or self.creative_force >= 100
            or self.adaptation >= 100
        ):
            self.state = "game_over"
            return True

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –¥–æ—Å—Ç–∏–≥ –ª–∏ –∏–≥—Ä–æ–∫ -100 –≤ –∫–∞–∫–æ–º-–ª–∏–±–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è –∫–æ–Ω—Ü–æ–≤–∫–∞)
        if (
            self.wisdom <= -100
            or self.rome_reputation <= -100
            or self.balance <= -100
            or self.creative_force <= -100
            or self.adaptation <= -100
        ):
            self.state = "game_over"
            return True

        return False

    def check_time_ending(self) -> bool:
        """–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å–ª–æ–≤–∏–µ –¥–ª—è –∫–æ–Ω—Ü–æ–≤–∫–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏"""
        # –ö–æ–Ω—Ü–æ–≤–∫–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —ç—Ç–æ–π –∏–≥—Ä–µ
        return False

    def get_ending_message(self) -> str:
        """–ü–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –∫–æ–Ω—Ü–æ–≤–∫–µ"""
        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º, –∫–∞–∫–∞—è –∫–æ–Ω—Ü–æ–≤–∫–∞ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞

        # –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Ü–æ–≤–∫–∏
        if self.wisdom >= 100:
            return self.get_wisdom_positive_ending()
        elif self.rome_reputation >= 100:
            return self.get_reputation_positive_ending()
        elif self.balance >= 100:
            return self.get_balance_positive_ending()
        elif self.creative_force >= 100:
            return self.get_creative_positive_ending()
        elif self.adaptation >= 100:
            return self.get_adaptation_positive_ending()

        # –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Ü–æ–≤–∫–∏
        elif self.wisdom <= -100:
            return self.get_wisdom_negative_ending()
        elif self.rome_reputation <= -100:
            return self.get_reputation_negative_ending()
        elif self.balance <= -100:
            return self.get_balance_negative_ending()
        elif self.creative_force <= -100:
            return self.get_creative_negative_ending()
        elif self.adaptation <= -100:
            return self.get_adaptation_negative_ending()

        # –ï—Å–ª–∏ –ø–æ –∫–∞–∫–æ–π-—Ç–æ –ø—Ä–∏—á–∏–Ω–µ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –∫–æ–Ω—Ü–æ–≤–∫–∞
        return "–¢–≤–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –≤ –∏–∑–≥–Ω–∞–Ω–∏–∏ –ø–æ–¥–æ—à–ª–æ –∫ –∫–æ–Ω—Ü—É.\n\n–í–≤–µ–¥–∏ /start, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É."

    def get_wisdom_positive_ending(self) -> str:
        """–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ–Ω—Ü–æ–≤–∫–∞ –ø–æ –ú—É–¥—Ä–æ—Å—Ç–∏"""
        return """
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë             –§–ò–õ–û–°–û–§–°–ö–û–ï –ü–†–û–°–í–ï–¢–õ–ï–ù–ò–ï                       ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

–¢–≤–æ–∏ —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è –æ –∂–∏–∑–Ω–∏, —Å–º–µ—Ä—Ç–∏ –∏ –≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏ –≤—Å–µ–≥–æ —Å—É—â–µ–≥–æ –ø—Ä–∏–≤–ª–µ–∫–∞—é—Ç –≤–Ω–∏–º–∞–Ω–∏–µ. 
–ö —Ç–µ–±–µ –Ω–∞—á–∏–Ω–∞—é—Ç –ø—Ä–∏–µ–∑–∂–∞—Ç—å —É—á–µ–Ω–∏–∫–∏ —Å–æ –≤—Å–µ–π –∏–º–ø–µ—Ä–∏–∏. –¢–≤–æ—è —Ö–∏–∂–∏–Ω–∞ —É –º–æ—Ä—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è 
–∞–∫–∞–¥–µ–º–∏–µ–π, –≥–¥–µ –ø—Ä–æ—Å—Ç–æ—Ç–∞ –±—ã—Ç–∞ —Å–æ—Å–µ–¥—Å—Ç–≤—É–µ—Ç —Å –≥–ª—É–±–∏–Ω–æ–π –º—ã—Å–ª–∏. –ú–µ—Å—Ç–Ω—ã–µ –≤–ª–∞—Å—Ç–∏ 
—É–≤–∞–∂–∏—Ç–µ–ª—å–Ω–æ –æ–±—Ö–æ–¥—è—Ç —Ç–µ–±—è —Å—Ç–æ—Ä–æ–Ω–æ–π, –∞ –º–æ–ª–æ–¥—ã–µ –ø–æ—ç—Ç—ã –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç –∫–∞–∂–¥–æ–µ —Ç–≤–æ–µ —Å–ª–æ–≤–æ.

–ì–æ–¥—ã –∏–∑–≥–Ω–∞–Ω–∏—è –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª–∏—Å—å –≤ –≥–æ–¥—ã –æ–±—Ä–µ—Ç–µ–Ω–∏—è –∏—Å—Ç–∏–Ω–Ω–æ–π —Å–≤–æ–±–æ–¥—ã –º—ã—Å–ª–∏. 
–†–∏–º –±–æ–ª—å—à–µ –Ω–µ –∫–∞–∂–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä–æ–º –º–∏—Ä–∞ ‚Äî –æ–Ω –ª–∏—à—å –µ—â–µ –æ–¥–Ω–∞ —Ç–æ—á–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–µ –≤–µ—á–Ω–æ—Å—Ç–∏,
–∫–æ—Ç–æ—Ä—É—é —Ç—ã –Ω–∞—É—á–∏–ª—Å—è —á–∏—Ç–∞—Ç—å.

–ü–û–ó–î–†–ê–í–õ–Ø–ï–ú!
–¢—ã –¥–æ—Å—Ç–∏–≥ –≤—ã—Å—à–µ–π –º—É–¥—Ä–æ—Å—Ç–∏ –∏ –æ–±—Ä–µ–ª –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å–≤–æ–±–æ–¥—É.

–í–≤–µ–¥–∏ /start, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É.
"""

    def get_reputation_positive_ending(self) -> str:
        """–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ–Ω—Ü–æ–≤–∫–∞ –ø–æ –†–µ–ø—É—Ç–∞—Ü–∏–∏ –≤ –†–∏–º–µ"""
        return """
‚ïî=================‚ïó
‚ïë     –í–û–ó–í–†–ê–©–ï–ù–ò–ï      ‚ïë
‚ïë      –ò–ó –ò–ó–ì–ù–ê–ù–ò–Ø       ‚ïë
‚ïö=================‚ïù

–ü–æ—Å—Ç—É–º –¥–æ–±–∏–ª—Å—è —Å–≤–æ–µ–≥–æ. –ù–∞ —Ä–∞—Å—Å–≤–µ—Ç–µ –∫ —Ç–≤–æ–µ–º—É –¥–æ–º—É –ø–æ–¥—Ö–æ–¥–∏—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π 
–ø–æ—Å–ª–∞–Ω–Ω–∏–∫ —Å –∏–º–ø–µ—Ä–∞—Ç–æ—Ä—Å–∫–æ–π –ø–µ—á–∞—Ç—å—é. –¢–≤–æ–µ –∏–∑–≥–Ω–∞–Ω–∏–µ –æ–∫–æ–Ω—á–µ–Ω–æ. –í –†–∏–º–µ —Ç–µ–±—è 
–∂–¥–µ—Ç –¥–æ–º, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –∏, –≤–æ–∑–º–æ–∂–Ω–æ, –º–µ—Å—Ç–æ –ø—Ä–∏ –¥–≤–æ—Ä–µ.

–°–æ–±–∏—Ä–∞—è –Ω–µ–º–Ω–æ–≥–æ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –≤–µ—â–∏, —Ç—ã –±—Ä–æ—Å–∞–µ—à—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –≤–∑–≥–ª—è–¥ –Ω–∞ –º–æ—Ä–µ, –Ω–∞–≤—Å–µ–≥–¥–∞ –∑–∞–ø–æ–º–∏–Ω–∞—è –µ–≥–æ —à—É–º –∏ –∑–∞–ø–∞—Ö.

–ü–û–ó–î–†–ê–í–õ–Ø–ï–ú!
–¢—ã –≤–µ—Ä–Ω—É–ª —Å–µ–±–µ —É—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤ –†–∏–º–µ, –∏ –º–æ–∂–µ—à—å –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø—Ä–µ–∂–Ω–µ–π –∂–∏–∑–Ω–∏.

–í–≤–µ–¥–∏ /start, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É."""

    def get_balance_positive_ending(self) -> str:
        """–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ–Ω—Ü–æ–≤–∫–∞ –ø–æ –î—É—à–µ–≤–Ω–æ–º—É —Ä–∞–≤–Ω–æ–≤–µ—Å–∏—é"""
        return """
‚ïî=================‚ïó
‚ïë      –ê–¢–ê–†–ê–ö–°–ò–Ø      ‚ïë
‚ïö=================‚ïù

–¢—ã –¥–æ—Å—Ç–∏–≥ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –±–µ–∑–º—è—Ç–µ–∂–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä–æ–π –ø–æ–∑–∞–≤–∏–¥–æ–≤–∞–ª–∏ –±—ã –¥—Ä–µ–≤–Ω–∏–µ —Å—Ç–æ–∏–∫–∏.
–ñ–∏–∑–Ω—å –≤ –ø—Ä–æ–≤–∏–Ω—Ü–∏–∏, —Ä–∞–∑–º–µ—Ä–µ–Ω–Ω–∞—è –∏ –ø—Ä–æ—Å—Ç–∞—è, –æ–∫–∞–∑–∞–ª–∞—Å—å –∏–º–µ–Ω–Ω–æ —Ç–µ–º, —á—Ç–æ –Ω—É–∂–Ω–æ —Ç–≤–æ–µ–π –¥—É—à–µ. 
–ü–µ—Ä–µ–º–µ–Ω—ã –∏–º–ø–µ—Ä–∏–π, –∏–Ω—Ç—Ä–∏–≥–∏ –†–∏–º–∞ ‚Äî –≤—Å–µ —ç—Ç–æ —Ç–µ–ø–µ—Ä—å –∫–∞–∂–µ—Ç—Å—è –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–º.

–¢–≤–æ—è —Ö–∏–∂–∏–Ω–∞, —Å–∞–¥ –∏ –º–æ—Ä–µ —Å—Ç–∞–ª–∏ —Ü–µ–ª—ã–º –º–∏—Ä–æ–º, –≤–º–µ—Å—Ç–∏–≤—à–∏–º –≤ —Å–µ–±—è –≤—Å–µ, —á—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤–∞–∂–Ω–æ.
–¢—ã –±–æ–ª—å—à–µ –Ω–µ —á—É–≤—Å—Ç–≤—É–µ—à—å —Å–µ–±—è –∏–∑–≥–Ω–∞–Ω–Ω–∏–∫–æ–º ‚Äî —Ç—ã –ø—Ä–æ—Å—Ç–æ —á–µ–ª–æ–≤–µ–∫, –Ω–∞—à–µ–¥—à–∏–π —Å–≤–æ–µ –º–µ—Å—Ç–æ.

–ü–û–ó–î–†–ê–í–õ–Ø–ï–ú!
–¢—ã –æ–±—Ä–µ–ª –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ–∫–æ–π –∏ —Ä–∞–≤–Ω–æ–≤–µ—Å–∏–µ, –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ–µ –¥–∞–∂–µ –∏–º–ø–µ—Ä–∞—Ç–æ—Ä–∞–º.

–í–≤–µ–¥–∏ /start, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É.
"""

    def get_creative_positive_ending(self) -> str:
        """–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ–Ω—Ü–æ–≤–∫–∞ –ø–æ –¢–≤–æ—Ä—á–µ—Å–∫–æ–π —Å–∏–ª–µ"""
        return """
‚ïî=================‚ïó
‚ïë     –ü–û–≠–¢–ò–ß–ï–°–ö–û–ï     ‚ïë
‚ïë     –ë–ï–°–°–ú–ï–†–¢–ò–ï      ‚ïë
‚ïö=================‚ïù

–¢–≤–æ–∏ —Å—Ç–∏—Ö–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è–ª –ü–æ—Å—Ç—É–º—É, –Ω–∞—á–∞–ª–∏ —Ç–∞–π–Ω–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—å—Å—è –ø–æ –†–∏–º—É. 
–ò—Ö –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—é—Ç, –ø–µ—Ä–µ–¥–∞—é—Ç –∏–∑ —Ä—É–∫ –≤ —Ä—É–∫–∏, —á–∏—Ç–∞—é—Ç –Ω–∞ –∑–∞–∫—Ä—ã—Ç—ã—Ö –≤–µ—á–µ—Ä–∞—Ö. –î–∞–∂–µ –Ω–µ 
–ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—è –≤ —Å—Ç–æ–ª–∏—Ü–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏, —Ç—ã —Å—Ç–∞–ª —Å–∞–º—ã–º –≤–ª–∏—è—Ç–µ–ª—å–Ω—ã–º –ø–æ—ç—Ç–æ–º —Å–≤–æ–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

–ö–æ–≥–¥–∞-–Ω–∏–±—É–¥—å —Ç–≤–æ–∏ —Å—Ç—Ä–æ–∫–∏ –±—É–¥—É—Ç –≤—ã—Å–µ—á–µ–Ω—ã –≤ –º—Ä–∞–º–æ—Ä–µ, –∏ –ø–æ—Ç–æ–º–∫–∏ –±—É–¥—É—Ç –∏–∑—É—á–∞—Ç—å –∏—Ö, 
–ø—ã—Ç–∞—è—Å—å –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –≤ –∏–∑–≥–Ω–∞–Ω–∏–∏ –º–æ–∂–Ω–æ –±—ã–ª–æ —Å–æ–∑–¥–∞—Ç—å –Ω–µ—á—Ç–æ —Å—Ç–æ–ª—å —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–µ.

–ü–û–ó–î–†–ê–í–õ–Ø–ï–ú!
–¢—ã —Å–æ–∑–¥–∞–ª –ø–æ—ç–∑–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–µ–∂–∏–≤–µ—Ç –∏ —Ç–µ–±—è, –∏ –†–∏–º.

–í–≤–µ–¥–∏ /start, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É.
"""

    def get_adaptation_positive_ending(self) -> str:
        """–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ–Ω—Ü–æ–≤–∫–∞ –ø–æ –ê–¥–∞–ø—Ç–∞—Ü–∏–∏"""
        return """
‚ïî=================‚ïó
‚ïë    –ù–û–í–ê–Ø –†–û–î–ò–ù–ê     ‚ïë
‚ïö=================‚ïù

–ú–µ—Å—Ç–Ω—ã–µ –∂–∏—Ç–µ–ª–∏ –ø–µ—Ä–µ—Å—Ç–∞–ª–∏ —Å—á–∏—Ç–∞—Ç—å —Ç–µ–±—è —á—É–∂–∞–∫–æ–º. –¢—ã –∂–µ–Ω–∏–ª—Å—è –Ω–∞ –¥–æ—á–µ—Ä–∏ —Ä—ã–±–∞–∫–∞, 
–≤—ã—É—á–∏–ª –º–µ—Å—Ç–Ω—ã–π –¥–∏–∞–ª–µ–∫—Ç, –æ—Å–≤–æ–∏–ª —Ä–µ–º–µ—Å–ª–∞ —ç—Ç–æ–≥–æ –∫—Ä–∞—è. –ö–æ–≥–¥–∞ –∏–∑ –†–∏–º–∞ –ø—Ä–∏—Ö–æ–¥—è—Ç 
–∏–∑–≤–µ—Å—Ç–∏—è –æ –≤–æ–∑–º–æ–∂–Ω–æ–º –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–∏, —Ç—ã –ø–æ–Ω–∏–º–∞–µ—à—å, —á—Ç–æ —É–∂–µ –Ω–µ —Ö–æ—á–µ—à—å —É–µ–∑–∂–∞—Ç—å.

–≠—Ç–∞ –ø—Ä–æ—Å—Ç–∞—è –∂–∏–∑–Ω—å —É –º–æ—Ä—è, —ç—Ç–∏ –ª—é–¥–∏, —ç—Ç–æ—Ç –≤–æ–∑–¥—É—Ö ‚Äî –≤—Å–µ —ç—Ç–æ —Å—Ç–∞–ª–æ —Ç–≤–æ–∏–º –Ω–∞—Å—Ç–æ—è—â–∏–º 
–¥–æ–º–æ–º, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –º—Ä–∞–º–æ—Ä–Ω–æ–≥–æ –†–∏–º–∞, –∫–æ—Ç–æ—Ä—ã–π —Ç–µ–ø–µ—Ä—å –∫–∞–∂–µ—Ç—Å—è –º—É–∑–µ–µ–º –ø—Ä–∏–∑—Ä–∞–∫–æ–≤.

–ü–û–ó–î–†–ê–í–õ–Ø–ï–ú!
–¢—ã –Ω–∞—à–µ–ª —Å–≤–æ–π –Ω–∞—Å—Ç–æ—è—â–∏–π –¥–æ–º –∏ –ø—Ä–∏–Ω—è–ª —Å–≤–æ—é –Ω–æ–≤—É—é –∂–∏–∑–Ω—å.

–í–≤–µ–¥–∏ /start, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É.
"""

    def get_wisdom_negative_ending(self) -> str:
        """–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è –∫–æ–Ω—Ü–æ–≤–∫–∞ –ø–æ –ú—É–¥—Ä–æ—Å—Ç–∏"""
        return """
‚ïî=================‚ïó
‚ïë      –î–£–•–û–í–ù–û–ï       ‚ïë
‚ïë     –û–ü–£–°–¢–û–®–ï–ù–ò–ï     ‚ïë
‚ïö=================‚ïù

–ò–∑–æ–ª—è—Ü–∏—è –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–±—â–µ–Ω–∏—è —Å–¥–µ–ª–∞–ª–∏ —Å–≤–æ–µ –¥–µ–ª–æ. –¢–≤–æ–∏ –º—ã—Å–ª–∏ 
–º–µ–ª—å—á–∞—é—Ç, –ø–∏—Å—å–º–∞ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –ø—É—Å—Ç—ã–º–∏ –∏ –±–µ—Å—Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω—ã–º–∏. –¢—ã –±–æ–ª—å—à–µ –Ω–µ –º–æ–∂–µ—à—å 
—Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –Ω–∏—á–µ–≥–æ –≥–ª—É–±–æ–∫–æ–≥–æ, –Ω–∏—á–µ–≥–æ –¥–æ—Å—Ç–æ–π–Ω–æ–≥–æ –∑–∞–ø–∏—Å–∏.

–î–Ω–∏ —Å–ª–∏–≤–∞—é—Ç—Å—è –≤ –±–µ—Å–∫–æ–Ω–µ—á–Ω—É—é —Å–µ—Ä—É—é –ø–æ–ª–æ—Å—É, –∞ –≤–æ–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–Ω—å—à–µ –≤–æ–ª–Ω–æ–≤–∞–ª–∏ 
—Ç–µ–±—è, —Ç–µ–ø–µ—Ä—å –∫–∞–∂—É—Ç—Å—è –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω—ã–º–∏. –£–º, –Ω–µ–∫–æ–≥–¥–∞ –æ—Å—Ç—Ä—ã–π –∫–∞–∫ –º–µ—á, –∑–∞—Ä–∂–∞–≤–µ–ª –∏ 
–ø—Ä–∏—Ç—É–ø–∏–ª—Å—è –æ—Ç –±–µ–∑–¥–µ–ª—å—è –∏ –æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤–∞.

–ö–û–ù–ï–¶ –ò–ì–†–´.
–¢–≤–æ–π —Ä–∞–∑—É–º –Ω–µ –≤—ã–¥–µ—Ä–∂–∞–ª –∏—Å–ø—ã—Ç–∞–Ω–∏—è –∏–∑–≥–Ω–∞–Ω–∏–µ–º.

–í–≤–µ–¥–∏ /start, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É.
"""

    def get_balance_negative_ending(self) -> str:
        """–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è –∫–æ–Ω—Ü–æ–≤–∫–∞ –ø–æ –î—É—à–µ–≤–Ω–æ–º—É —Ä–∞–≤–Ω–æ–≤–µ—Å–∏—é"""
        return """
‚ïî=================‚ïó
‚ïë     –ú–ï–õ–ê–ù–•–û–õ–ò–Ø      ‚ïë
‚ïö=================‚ïù

–¢–æ—Å–∫–∞ –ø–æ –†–∏–º—É —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–≤—ã–Ω–æ—Å–∏–º–æ–π. –¢—ã –Ω–µ —Å–ø–∏—à—å –ø–æ –Ω–æ—á–∞–º, –≤—Å–ª—É—à–∏–≤–∞—è—Å—å –≤ —à—É–º 
–º–æ—Ä—è, –∫–æ—Ç–æ—Ä—ã–π —Ç–µ–ø–µ—Ä—å –∫–∞–∂–µ—Ç—Å—è –Ω–∞—Å–º–µ—à–∫–æ–π. –ï–¥–∞ —Ç–µ—Ä—è–µ—Ç –≤–∫—É—Å, –≤–∏–Ω–æ –Ω–µ –ø—Ä–∏–Ω–æ—Å–∏—Ç —Ä–∞–¥–æ—Å—Ç–∏.

–¢—ã –ø–µ—Ä–µ—Å—Ç–∞–µ—à—å –ø–∏—Å–∞—Ç—å, –≤—ã—Ö–æ–¥–∏—Ç—å –∏–∑ –¥–æ–º–∞, –≥–æ–≤–æ—Ä–∏—Ç—å —Å –ª—é–¥—å–º–∏. –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –ø–æ—Ö–æ–∂ –Ω–∞ 
–ø—Ä–µ–¥—ã–¥—É—â–∏–π ‚Äî —Å–µ—Ä—ã–π, –ø—É—Å—Ç–æ–π, –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω—ã–π. –¢–≤–æ—è –¥—É—à–∞ —Å–ª–æ–≤–Ω–æ –ø–æ–∫–∏–Ω—É–ª–∞ —Ç–µ–ª–æ –∏ 
—É–ª–µ—Ç–µ–ª–∞ –≤ –¥–∞–ª–µ–∫–∏–π –†–∏–º.

–ö–û–ù–ï–¶ –ò–ì–†–´.
–¢–≤–æ–π –¥—É—Ö —Å–ª–æ–º–ª–µ–Ω —Ç—è–∂–µ—Å—Ç—å—é –∏–∑–≥–Ω–∞–Ω–∏—è.

–í–≤–µ–¥–∏ /start, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É.
"""

    def get_creative_negative_ending(self) -> str:
        """–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è –∫–æ–Ω—Ü–æ–≤–∫–∞ –ø–æ –¢–≤–æ—Ä—á–µ—Å–∫–æ–π —Å–∏–ª–µ"""
        return """
‚ïî=================‚ïó
‚ïë    –¢–í–û–†–ß–ï–°–ö–ò–ô       ‚ïë
‚ïë       –ö–†–ò–ó–ò–°        ‚ïë
‚ïö=================‚ïù

–ú—É–∑–∞ –ø–æ–∫–∏–¥–∞–µ—Ç —Ç–µ–±—è. –°–Ω–∞—á–∞–ª–∞ —Ç—ã –Ω–µ –º–æ–∂–µ—à—å –ø–æ–¥–æ–±—Ä–∞—Ç—å –Ω—É–∂–Ω—ã–µ —Å–ª–æ–≤–∞, –ø–æ—Ç–æ–º –ø–µ—Ä–µ—Å—Ç–∞–µ—à—å 
—Å–ª—ã—à–∞—Ç—å —Ä–∏—Ç–º, –Ω–∞–∫–æ–Ω–µ—Ü, –∏—Å—á–µ–∑–∞–µ—Ç —Å–∞–º–∞ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –ø–∏—Å–∞—Ç—å. –¢—ã —Å–º–æ—Ç—Ä–∏—à—å –Ω–∞ —á–∏—Å—Ç—ã–µ 
—Å–≤–∏—Ç–∫–∏ —Å —É–∂–∞—Å–æ–º. –ü–µ—Ä–æ –≤ —Ç–≤–æ–µ–π —Ä—É–∫–µ –∫–∞–∂–µ—Ç—Å—è –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã–º –æ—Ä—É–¥–∏–µ–º.

–ú—ã—Å–ª–∏ –µ—Å—Ç—å, –Ω–æ –æ–Ω–∏ –Ω–µ –æ–±–ª–µ–∫–∞—é—Ç—Å—è –≤ —Å—Ç–∏—Ö–∏. –ú–æ–ª—á–∞–Ω–∏–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç–≤–æ–∏–º –Ω–æ–≤—ã–º —è–∑—ã–∫–æ–º.
–ü–æ—ç—Ç —É–º–µ—Ä, –æ—Å—Ç–∞–ª—Å—è —Ç–æ–ª—å–∫–æ –∏–∑–≥–Ω–∞–Ω–Ω–∏–∫.

–ö–û–ù–ï–¶ –ò–ì–†–´.
–¢–≤–æ—Ä—á–µ—Å–∫–∏–π –æ–≥–æ–Ω—å –≤ —Ç–µ–±–µ –ø–æ–≥–∞—Å.

–í–≤–µ–¥–∏ /start, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É.
"""

    def get_adaptation_negative_ending(self) -> str:
        """–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è –∫–æ–Ω—Ü–æ–≤–∫–∞ –ø–æ –ê–¥–∞–ø—Ç–∞—Ü–∏–∏"""
        return """
‚ïî=================‚ïó
‚ïë    –í–ï–ß–ù–´–ô –ß–£–ñ–ê–ö     ‚ïë
‚ïö=================‚ïù

–ú–µ—Å—Ç–Ω—ã–µ –∂–∏—Ç–µ–ª–∏ —Ç–∞–∫ –∏ –Ω–µ –ø—Ä–∏–Ω—è–ª–∏ —Ç–µ–±—è. –û–Ω–∏ —à–µ–ø—á—É—Ç—Å—è –∑–∞ —Ç–≤–æ–µ–π —Å–ø–∏–Ω–æ–π, –æ—Ç–≤–æ–¥—è—Ç 
–¥–µ—Ç–µ–π, –∫–æ–≥–¥–∞ —Ç—ã –ø—Ä–æ—Ö–æ–¥–∏—à—å –º–∏–º–æ, –ø–µ—Ä–µ—Å—Ç–∞—é—Ç –ø—Ä–æ–¥–∞–≤–∞—Ç—å —Ç–µ–±–µ —Å–≤–µ–∂—É—é —Ä—ã–±—É –∏ —Ñ—Ä—É–∫—Ç—ã.

–¢–≤–æ–π –ª–∞—Ç–∏–Ω—Å–∫–∏–π –∞–∫—Ü–µ–Ω—Ç, —Ç–≤–æ–∏ —Ä–∏–º—Å–∫–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏, —Ç–≤–æ—è –æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω–æ—Å—Ç—å ‚Äî –≤—Å–µ —ç—Ç–æ 
—Å—Ç–µ–Ω–∞ –º–µ–∂–¥—É —Ç–æ–±–æ–π –∏ —ç—Ç–∏–º–∏ –ª—é–¥—å–º–∏. –¢—ã –ø–æ—Å—Ç—Ä–æ–∏–ª —Å–µ–±–µ —Ö–∏–∂–∏–Ω—É –≤–¥–∞–ª–∏ –æ—Ç –¥–µ—Ä–µ–≤–Ω–∏, 
—Å—Ç–∞–≤ –æ—Ç—à–µ–ª—å–Ω–∏–∫–æ–º –Ω–µ –ø–æ —Å–≤–æ–µ–π –≤–æ–ª–µ.

–ö–û–ù–ï–¶ –ò–ì–†–´.
–¢—ã –Ω–µ —Å–º–æ–≥ —Å—Ç–∞—Ç—å —Å–≤–æ–∏–º –Ω–∏ –∑–¥–µ—Å—å, –Ω–∏ —Ç–∞–º.

–í–≤–µ–¥–∏ /start, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É.
"""

    def get_reputation_negative_ending(self) -> str:
        """–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è –∫–æ–Ω—Ü–æ–≤–∫–∞ –ø–æ –†–µ–ø—É—Ç–∞—Ü–∏–∏ –≤ –†–∏–º–µ"""
        return """
‚ïî=================‚ïó
‚ïë   –ü–û–õ–ù–û–ï –ó–ê–ë–í–ï–ù–ò–ï   ‚ïë
‚ïö=================‚ïù

–ü–∏—Å—å–º–∞ –æ—Ç –ü–æ—Å—Ç—É–º–∞ –ø—Ä–∏—Ö–æ–¥—è—Ç –≤—Å–µ —Ä–µ–∂–µ, –∞ –∑–∞—Ç–µ–º –ø—Ä–µ–∫—Ä–∞—â–∞—é—Ç—Å—è —Å–æ–≤—Å–µ–º. –¢—ã —É–∑–Ω–∞–µ—à—å 
–æ—Ç –ø—Ä–æ–µ–∑–∂–∞—é—â–µ–≥–æ –∫—É–ø—Ü–∞, —á—Ç–æ —Ç–≤–æ–µ –∏–º—è –≤—ã—á–µ—Ä–∫–Ω—É—Ç–æ –∏–∑ –≤—Å–µ—Ö –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π, 
—Ç–≤–æ–∏ –∫–Ω–∏–≥–∏ —Å–æ–∂–∂–µ–Ω—ã, –∞ –¥–æ–º –ø–µ—Ä–µ–¥–∞–Ω –Ω–æ–≤–æ–º—É –≤–ª–∞–¥–µ–ª—å—Ü—É.

–í –†–∏–º–µ —Ç—ã –±–æ–ª—å—à–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—à—å. –ù–∏ –¥—Ä—É–∑—å—è, –Ω–∏ –≤—Ä–∞–≥–∏ –Ω–µ —É–ø–æ–º–∏–Ω–∞—é—Ç —Ç–µ–±—è ‚Äî 
—Å–ª–æ–≤–Ω–æ —Ç—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∂–∏–ª. –¢—ã —Å—Ç–∞–ª –ø—Ä–∏–∑—Ä–∞–∫–æ–º –ø—Ä–∏ –∂–∏–∑–Ω–∏, —á–µ–ª–æ–≤–µ–∫–æ–º –±–µ–∑ –ø—Ä–æ—à–ª–æ–≥–æ.

–ö–û–ù–ï–¶ –ò–ì–†–´.
–†–∏–º –∑–∞–±—ã–ª —Ç–µ–±—è, –∫–∞–∫ –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã–π —Å–æ–Ω.

–í–≤–µ–¥–∏ /start, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É.
"""

    def get_special_ending(self) -> str:
        """–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç –æ—Å–æ–±–æ–π –∫–æ–Ω—Ü–æ–≤–∫–∏"""
        return self.get_ending_message()

    def get_time_ending(self) -> str:
        """–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç –∫–æ–Ω—Ü–æ–≤–∫–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏"""
        # –ö–æ–Ω—Ü–æ–≤–∫–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —ç—Ç–æ–π –∏–≥—Ä–µ
        return "–í —ç—Ç–æ–π –∏–≥—Ä–µ –Ω–µ—Ç –∫–æ–Ω—Ü–æ–≤–∫–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏."